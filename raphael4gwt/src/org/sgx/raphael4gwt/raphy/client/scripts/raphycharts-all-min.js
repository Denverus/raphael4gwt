(function(t){var Y,A="2.0.0",ac=Math.round,ae,P={},O=(typeof module!=="undefined"&&module.exports),x=/^\/?Date\((\-?\d+)/i,l=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|a|A|hh?|HH?|mm?|ss?|SS?S?|X|zz?|ZZ?|.)/g,r=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,ah=/([0-9a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)/gi,g=/\d\d?/,Q=/\d{1,3}/,S=/\d{3}/,I=/\d{1,4}/,q=/[+\-]?\d{1,6}/,J=/[0-9]*[a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF]+\s*?[\u0600-\u06FF]+/i,b=/Z|[\+\-]\d\d:?\d\d/i,u=/T/i,p=/[\+\-]?\d+(\.\d{1,3})?/,K=/^\s*\d{4}-\d\d-\d\d((T| )(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,d="YYYY-MM-DDTHH:mm:ssZ",j=[["HH:mm:ss.S",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],C=/([\+\-]|\d\d)/gi,n="Month|Date|Hours|Minutes|Seconds|Milliseconds".split("|"),Z={Milliseconds:1,Seconds:1000,Minutes:60000,Hours:3600000,Days:86400000,Months:2592000000,Years:31536000000},m={},F="DDD w W M D d".split(" "),w="M D H h m s w W".split(" "),h={M:function(){return this.month()+1},MMM:function(i){return this.lang().monthsShort(this,i)},MMMM:function(i){return this.lang().months(this,i)
},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(i){return this.lang().weekdaysMin(this,i)},ddd:function(i){return this.lang().weekdaysShort(this,i)},dddd:function(i){return this.lang().weekdays(this,i)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return ab(this.year()%100,2)},YYYY:function(){return ab(this.year(),4)},YYYYY:function(){return ab(this.year(),5)},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),true)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),false)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return ~~(this.milliseconds()/100)},SS:function(){return ab(~~(this.milliseconds()/10),2)},SSS:function(){return ab(this.milliseconds(),3)},Z:function(){var aj=-this.zone(),i="+";if(aj<0){aj=-aj;i="-"}return i+ab(~~(aj/60),2)+":"+ab(~~aj%60,2)},ZZ:function(){var aj=-this.zone(),i="+";if(aj<0){aj=-aj;i="-"}return i+ab(~~(10*aj/6),4)},X:function(){return this.unix()}};function M(aj,i){return function(ak){return ab(aj.call(this,ak),i)
}}function G(i){return function(aj){return this.lang().ordinal(i.call(this,aj))}}while(F.length){ae=F.pop();h[ae+"o"]=G(h[ae])}while(w.length){ae=w.pop();h[ae+ae]=M(h[ae],2)}h.DDDD=M(h.DDD,3);function ag(){}function v(i){s(this,i)}function ai(al){var an=this._data={},ao=al.years||al.year||al.y||0,aj=al.months||al.month||al.M||0,i=al.weeks||al.week||al.w||0,ar=al.days||al.day||al.d||0,ap=al.hours||al.hour||al.h||0,am=al.minutes||al.minute||al.m||0,aq=al.seconds||al.second||al.s||0,ak=al.milliseconds||al.millisecond||al.ms||0;this._milliseconds=ak+aq*1000+am*60000+ap*3600000;this._days=ar+i*7;this._months=aj+ao*12;an.milliseconds=ak%1000;aq+=X(ak/1000);an.seconds=aq%60;am+=X(aq/60);an.minutes=am%60;ap+=X(am/60);an.hours=ap%24;ar+=X(ap/24);ar+=i*7;an.days=ar%30;aj+=X(ar/30);an.months=aj%12;ao+=X(aj/12);an.years=ao}function s(ak,aj){for(var al in aj){if(aj.hasOwnProperty(al)){ak[al]=aj[al]}}return ak}function X(i){if(i<0){return Math.ceil(i)}else{return Math.floor(i)}}function ab(ak,aj){var i=ak+"";while(i.length<aj){i="0"+i}return i}function U(ak,am,al){var aj=am._milliseconds,an=am._days,ao=am._months,i;if(aj){ak._d.setTime(+ak+aj*al)}if(an){ak.date(ak.date()+an*al)}if(ao){i=ak.date();
ak.date(1).month(ak.month()+ao*al).date(Math.min(i,ak.daysInMonth()))}}function D(i){return Object.prototype.toString.call(i)==="[object Array]"}function T(an,am){var aj=Math.min(an.length,am.length),ak=Math.abs(an.length-am.length),ao=0,al;for(al=0;al<aj;al++){if(~~an[al]!==~~am[al]){ao++}}return ao+ak}ag.prototype={set:function(aj){var al,ak;for(ak in aj){al=aj[ak];if(typeof al==="function"){this[ak]=al}else{this["_"+ak]=al}}},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(i){return this._months[i.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(i){return this._monthsShort[i.month()]},monthsParse:function(aj){var al,an,am,ak;if(!this._monthsParse){this._monthsParse=[]}for(al=0;al<12;al++){if(!this._monthsParse[al]){an=Y([2000,al]);am="^"+this.months(an,"")+"|^"+this.monthsShort(an,"");this._monthsParse[al]=new RegExp(am.replace(".",""),"i")}if(this._monthsParse[al].test(aj)){return al}}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(i){return this._weekdays[i.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(i){return this._weekdaysShort[i.day()]
},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(i){return this._weekdaysMin[i.day()]},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(aj){var i=this._longDateFormat[aj];if(!i&&this._longDateFormat[aj.toUpperCase()]){i=this._longDateFormat[aj.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(ak){return ak.slice(1)});this._longDateFormat[aj]=i}return i},meridiem:function(i,aj,ak){if(i>11){return ak?"pm":"PM"}else{return ak?"am":"AM"}},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[last] dddd [at] LT",sameElse:"L"},calendar:function(aj,ak){var i=this._calendar[aj];return typeof i==="function"?i.apply(ak):i},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(al,ak,aj,am){var i=this._relativeTime[aj];return(typeof i==="function")?i(al,ak,aj,am):i.replace(/%d/i,al)},pastFuture:function(ak,i){var aj=this._relativeTime[ak>0?"future":"past"];return typeof aj==="function"?aj(i):aj.replace(/%s/i,i)
},ordinal:function(i){return this._ordinal.replace("%d",i)},_ordinal:"%d",preparse:function(i){return i},postformat:function(i){return i},week:function(i){return R(i,this._week.dow,this._week.doy)},_week:{dow:0,doy:6}};function z(aj,i){i.abbr=aj;if(!P[aj]){P[aj]=new ag()}P[aj].set(i);return P[aj]}function y(i){if(!i){return Y.fn._lang}if(!P[i]&&O){require("./lang/"+i)}return P[i]}function H(i){if(i.match(/\[.*\]/)){return i.replace(/^\[|\]$/g,"")}return i.replace(/\\/g,"")}function W(al){var am=al.match(l),aj,ak;for(aj=0,ak=am.length;aj<ak;aj++){if(h[am[aj]]){am[aj]=h[am[aj]]}else{am[aj]=H(am[aj])}}return function(an){var i="";for(aj=0;aj<ak;aj++){i+=typeof am[aj].call==="function"?am[aj].call(an,al):am[aj]}return i}}function N(aj,am){var ak=5;function al(i){return aj.lang().longDateFormat(i)||i}while(ak--&&r.test(am)){am=am.replace(r,al)}if(!m[am]){m[am]=W(am)}return m[am](aj)}function f(i){switch(i){case"DDDD":return S;case"YYYY":return I;case"YYYYY":return q;case"S":case"SS":case"SSS":case"DDD":return Q;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":case"a":case"A":return J;case"X":return p;case"Z":case"ZZ":return b;case"T":return u;case"MM":case"DD":case"YY":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":return g;
default:return new RegExp(i.replace("\\",""))}}function e(an,al,am){var ak,i,aj=am._a;switch(an){case"M":case"MM":aj[1]=(al==null)?0:~~al-1;break;case"MMM":case"MMMM":ak=y(am._l).monthsParse(al);if(ak!=null){aj[1]=ak}else{am._isValid=false}break;case"D":case"DD":case"DDD":case"DDDD":if(al!=null){aj[2]=~~al}break;case"YY":aj[0]=~~al+(~~al>68?1900:2000);break;case"YYYY":case"YYYYY":aj[0]=~~al;break;case"a":case"A":am._isPm=((al+"").toLowerCase()==="pm");break;case"H":case"HH":case"h":case"hh":aj[3]=~~al;break;case"m":case"mm":aj[4]=~~al;break;case"s":case"ss":aj[5]=~~al;break;case"S":case"SS":case"SSS":aj[6]=~~(("0."+al)*1000);break;case"X":am._d=new Date(parseFloat(al)*1000);break;case"Z":case"ZZ":am._useUTC=true;ak=(al+"").match(C);if(ak&&ak[1]){am._tzh=~~ak[1]}if(ak&&ak[2]){am._tzm=~~ak[2]}if(ak&&ak[0]==="+"){am._tzh=-am._tzh;am._tzm=-am._tzm}break}if(al==null){am._isValid=false}}function k(al){var am,ak,aj=[];if(al._d){return}for(am=0;am<7;am++){al._a[am]=aj[am]=(al._a[am]==null)?(am===2?1:0):al._a[am]}aj[3]+=al._tzh||0;aj[4]+=al._tzm||0;ak=new Date(0);if(al._useUTC){ak.setUTCFullYear(aj[0],aj[1],aj[2]);ak.setUTCHours(aj[3],aj[4],aj[5],aj[6])}else{ak.setFullYear(aj[0],aj[1],aj[2]);
ak.setHours(aj[3],aj[4],aj[5],aj[6])}al._d=ak}function L(ak){var an=ak._f.match(l),aj=ak._i,al,am;ak._a=[];for(al=0;al<an.length;al++){am=(f(an[al]).exec(aj)||[])[0];if(am){aj=aj.slice(aj.indexOf(am)+am.length)}if(h[an[al]]){e(an[al],am,ak)}}if(ak._isPm&&ak._a[3]<12){ak._a[3]+=12}if(ak._isPm===false&&ak._a[3]===12){ak._a[3]=0}k(ak)}function B(al){var ap,aj,an,ao=99,am,ak,aq;while(al._f.length){ap=s({},al);ap._f=al._f.pop();L(ap);aj=new v(ap);if(aj.isValid()){an=aj;break}aq=T(ap._a,aj.toArray());if(aq<ao){ao=aq;an=aj}}s(al,an)}function aa(ak){var al,aj=ak._i;if(K.exec(aj)){ak._f="YYYY-MM-DDT";for(al=0;al<4;al++){if(j[al][1].exec(aj)){ak._f+=j[al][0];break}}if(b.exec(aj)){ak._f+=" Z"}L(ak)}else{ak._d=new Date(aj)}}function af(ak){var aj=ak._i,i=x.exec(aj);if(aj===t){ak._d=new Date()}else{if(i){ak._d=new Date(+i[1])}else{if(typeof aj==="string"){aa(ak)}else{if(D(aj)){ak._a=aj.slice(0);k(ak)}else{ak._d=aj instanceof Date?new Date(+aj):new Date(aj)}}}}}function V(i,ak,aj,al,am){return am.relativeTime(ak||1,!!aj,i,al)}function E(ak,i,aj){var ap=ac(Math.abs(ak)/1000),al=ac(ap/60),ao=ac(al/60),aq=ac(ao/24),am=ac(aq/365),an=ap<45&&["s",ap]||al===1&&["m"]||al<45&&["mm",al]||ao===1&&["h"]||ao<22&&["hh",ao]||aq===1&&["d"]||aq<=25&&["dd",aq]||aq<=45&&["M"]||aq<345&&["MM",ac(aq/30)]||am===1&&["y"]||["yy",am];
an[2]=i;an[3]=ak>0;an[4]=aj;return V.apply({},an)}function R(al,ak,am){var aj=am-ak,i=am-al.day();if(i>aj){i-=7}if(i<aj-7){i+=7}return Math.ceil(Y(al).add("d",i).dayOfYear()/7)}function ad(aj){var i=aj._i,ak=aj._f;if(i===null||i===""){return null}if(typeof i==="string"){aj._i=i=y().preparse(i)}if(Y.isMoment(i)){aj=s({},i);aj._d=new Date(+i._d)}else{if(ak){if(D(ak)){B(aj)}else{L(aj)}}else{af(aj)}}return new v(aj)}Y=function(i,aj,ak){return ad({_i:i,_f:aj,_l:ak,_isUTC:false})};Y.utc=function(i,aj,ak){return ad({_useUTC:true,_isUTC:true,_l:ak,_i:i,_f:aj})};Y.unix=function(i){return Y(i*1000)};Y.duration=function(i,am){var al=Y.isDuration(i),ak=(typeof i==="number"),an=(al?i._data:(ak?{}:i)),aj;if(ak){if(am){an[am]=i}else{an.milliseconds=i}}aj=new ai(an);if(al&&i.hasOwnProperty("_lang")){aj._lang=i._lang}return aj};Y.version=A;Y.defaultFormat=d;Y.lang=function(al,aj){var ak;if(!al){return Y.fn._lang._abbr}if(aj){z(al,aj)}else{if(!P[al]){y(al)}}Y.duration.fn._lang=Y.fn._lang=y(al)};Y.langData=function(i){if(i&&i._lang&&i._lang._abbr){i=i._lang._abbr}return y(i)};Y.isMoment=function(i){return i instanceof v};Y.isDuration=function(i){return i instanceof ai};Y.fn=v.prototype={clone:function(){return Y(this)
},valueOf:function(){return +this._d},unix:function(){return Math.floor(+this._d/1000)},toString:function(){return this.format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._d},toJSON:function(){return Y.utc(this).format("YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var i=this;return[i.year(),i.month(),i.date(),i.hours(),i.minutes(),i.seconds(),i.milliseconds()]},isValid:function(){if(this._isValid==null){if(this._a){this._isValid=!T(this._a,(this._isUTC?Y.utc(this._a):Y(this._a)).toArray())}else{this._isValid=!isNaN(this._d.getTime())}}return !!this._isValid},utc:function(){this._isUTC=true;return this},local:function(){this._isUTC=false;return this},format:function(aj){var i=N(this,aj||Y.defaultFormat);return this.lang().postformat(i)},add:function(i,ak){var aj;if(typeof i==="string"){aj=Y.duration(+ak,i)}else{aj=Y.duration(i,ak)}U(this,aj,1);return this},subtract:function(i,ak){var aj;if(typeof i==="string"){aj=Y.duration(+ak,i)}else{aj=Y.duration(i,ak)}U(this,aj,-1);return this},diff:function(am,al,i){var an=this._isUTC?Y(am).utc():Y(am).local(),aj=(this.zone()-an.zone())*60000,ao,ak;if(al){al=al.replace(/s$/,"")}if(al==="year"||al==="month"){ao=(this.daysInMonth()+an.daysInMonth())*43200000;
ak=((this.year()-an.year())*12)+(this.month()-an.month());ak+=((this-Y(this).startOf("month"))-(an-Y(an).startOf("month")))/ao;if(al==="year"){ak=ak/12}}else{ao=(this-an)-aj;ak=al==="second"?ao/1000:al==="minute"?ao/60000:al==="hour"?ao/3600000:al==="day"?ao/86400000:al==="week"?ao/604800000:ao}return i?ak:X(ak)},from:function(aj,i){return Y.duration(this.diff(aj)).lang(this.lang()._abbr).humanize(!i)},fromNow:function(i){return this.from(Y(),i)},calendar:function(){var aj=this.diff(Y().startOf("day"),"days",true),i=aj<-6?"sameElse":aj<-1?"lastWeek":aj<0?"lastDay":aj<1?"sameDay":aj<2?"nextDay":aj<7?"nextWeek":"sameElse";return this.format(this.lang().calendar(i,this))},isLeapYear:function(){var i=this.year();return(i%4===0&&i%100!==0)||i%400===0},isDST:function(){return(this.zone()<Y([this.year()]).zone()||this.zone()<Y([this.year(),5]).zone())},day:function(aj){var i=this._isUTC?this._d.getUTCDay():this._d.getDay();return aj==null?i:this.add({d:aj-i})},startOf:function(i){i=i.replace(/s$/,"");switch(i){case"year":this.month(0);case"month":this.date(1);case"week":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}if(i==="week"){this.day(0)
}return this},endOf:function(i){return this.startOf(i).add(i.replace(/s?$/,"s"),1).subtract("ms",1)},isAfter:function(aj,i){i=typeof i!=="undefined"?i:"millisecond";return +this.clone().startOf(i)>+Y(aj).startOf(i)},isBefore:function(aj,i){i=typeof i!=="undefined"?i:"millisecond";return +this.clone().startOf(i)<+Y(aj).startOf(i)},isSame:function(aj,i){i=typeof i!=="undefined"?i:"millisecond";return +this.clone().startOf(i)===+Y(aj).startOf(i)},zone:function(){return this._isUTC?0:this._d.getTimezoneOffset()},daysInMonth:function(){return Y.utc([this.year(),this.month()+1,0]).date()},dayOfYear:function(i){var aj=ac((Y(this).startOf("day")-Y(this).startOf("year"))/86400000)+1;return i==null?aj:this.add("d",(i-aj))},isoWeek:function(i){var aj=R(this,1,4);return i==null?aj:this.add("d",(i-aj)*7)},week:function(i){var aj=this.lang().week(this);return i==null?aj:this.add("d",(i-aj)*7)},lang:function(i){if(i===t){return this._lang}else{this._lang=y(i);return this}}};function o(i,aj){Y.fn[i]=Y.fn[i+"s"]=function(ak){var al=this._isUTC?"UTC":"";if(ak!=null){this._d["set"+al+aj](ak);return this}else{return this._d["get"+al+aj]()}}}for(ae=0;ae<n.length;ae++){o(n[ae].toLowerCase().replace(/s$/,""),n[ae])
}o("year","FullYear");Y.fn.days=Y.fn.day;Y.fn.weeks=Y.fn.week;Y.fn.isoWeeks=Y.fn.isoWeek;Y.duration.fn=ai.prototype={weeks:function(){return X(this.days()/7)},valueOf:function(){return this._milliseconds+this._days*86400000+this._months*2592000000},humanize:function(aj){var ak=+this,i=E(ak,!aj,this.lang());if(aj){i=this.lang().pastFuture(ak,i)}return this.lang().postformat(i)},lang:Y.fn.lang};function a(i){Y.duration.fn[i]=function(){return this._data[i]}}function c(i,aj){Y.duration.fn["as"+i]=function(){return +this/aj}}for(ae in Z){if(Z.hasOwnProperty(ae)){c(ae,Z[ae]);a(ae.toLowerCase())}}c("Weeks",604800000);Y.lang("en",{ordinal:function(ak){var i=ak%10,aj=(~~(ak%100/10)===1)?"th":(i===1)?"st":(i===2)?"nd":(i===3)?"rd":"th";return ak+aj}});if(O){module.exports=Y}if(typeof ender==="undefined"){this["moment"]=Y}if(typeof define==="function"&&define.amd){define("moment",[],function(){return Y})}}).call(this);function GanttChart(a){this.elementId=a;this.height=500;this.width=500;this.gridSize=25;this.labelAreaSize=250;this.currentRow=1;this.phaseColor="#AAA";this.taskColors=["#C24704","#D9CC3C","#FFEB79","#A0E0A9","#00ADA7"];this.cellpadding=4;var b=0;this.loadData=function(c){this.project=c};this.draw=function(){var g=this.getDates();width=this.labelAreaSize+g.length*this.gridSize;var f=this.getRows();height=f*this.gridSize;this.paper=Raphael(this.elementId,width,height);this.grid();this.headers(g);var e=this.project[0].phases;for(p in e){var c=this.paper.text(5,(this.currentRow*this.gridSize)+(this.gridSize/2),e[p].name);c.attr({"font-size":14,stroke:"none",fill:"black","text-anchor":"start"});this.phaseLine(e[p]);this.currentRow++;var h=e[p].tasks;for(t in h){this.bar(h[t]);this.currentRow++}if(b<this.taskColors.length){b++}else{b=0}}};this.getRows=function(){var c=this.project[0].phases;var e=1;for(p in c){e++;var f=c[p].tasks;for(t in f){e++}}return e};this.grid=function(){for(var g=this.gridSize;g<height;g+=this.gridSize){var e="M0,"+g+"L"+width+","+g;var f=this.paper.path(e);f.attr({stroke:"#000"})}for(var c=this.labelAreaSize;c<width;c+=this.gridSize){var e="M"+c+",0L"+c+","+height;
var f=this.paper.path(e)}};this.headers=function(f){var e=0;for(d in f){var c=this.paper.text(this.labelAreaSize+e*this.gridSize+0.5*this.gridSize,0.5*this.gridSize,f[d].format("M-D"));c.attr({"text-anchor":"middle"});e++}};this.phaseLine=function(o){var c=this.getDates();var f=moment(o.startDate);var j=moment(o.endDate);j.add("days",1);var h=moment.duration(f-c[0]);var m=h.asDays()*this.gridSize+this.labelAreaSize+this.cellpadding;var l=this.currentRow*this.gridSize+0.25*this.gridSize;var g=moment.duration(j-f);var u=(g.asDays())*this.gridSize-(2*this.cellpadding);var s=this.gridSize/4;var k=this.paper.rect(m,l,u,s);k.attr({stroke:this.phaseColor});k.attr({fill:this.phaseColor});var r=m+","+l;var q=m+","+((l+0.75*this.gridSize)-this.cellpadding);var n=(m+0.5*this.gridSize)+","+l;var i=this.paper.path("M"+r+"L"+q+"L"+n+"Z");i.attr({stroke:this.phaseColor,fill:this.phaseColor});var r=m+u+","+l;var q=m+u+","+((l+0.75*this.gridSize)-this.cellpadding);var n=((m+u)-0.5*this.gridSize)+","+l;var e=this.paper.path("M"+r+"L"+q+"L"+n+"Z");e.attr({stroke:this.phaseColor,fill:this.phaseColor})};this.bar=function(f){var e=this.getDates();var g=moment(f.startDate);var k=moment(f.endDate);k.add("days",1);
var i=moment.duration(g-e[0]);var n=i.asDays()*this.gridSize+this.labelAreaSize;var m=this.currentRow*this.gridSize;var h=moment.duration(k-g);var u=(h.asDays())*this.gridSize;var q=this.gridSize;var l=this.paper.rect(n+this.cellpadding,m+this.cellpadding,u-(2*this.cellpadding),q-(2*this.cellpadding));var s=this.paper.text(10,m+(q/2),f.name);s.attr({"font-size":14,stroke:"none",fill:"black","text-anchor":"start"});var c=this.taskColors[b];var r=Raphael.color(c);l.attr({fill:r});var o;var j=this.cellpadding;l.hover(function(){o=l.glow({width:j,opacity:0.75,color:r})},function(){o.remove()})};this.getDates=function(){var c=moment(this.project[0].startDate);var f=moment(this.project[0].endDate);var e=[];while(c<=f){e.push(c.clone());c.add("days",1)}return e}};var global=window;if(global.module==undefined){global.module=function(c,a){var b=global[c];if(b==undefined){global[c]=b={}}a(b)}}module("Charts",function(J){var P;P=(function(){R.DEFAULTS={dot_size:5,dot_color:"#00aadd",dot_stroke_color:"#fff",dot_stroke_size:2,line_width:3,line_color:"#00aadd",smoothing:0.4,fill_area:true,area_color:"#00aadd",area_opacity:0.2,show_x_labels:true,show_y_labels:true,label_max:true,label_min:true,max_x_labels:10,max_y_labels:3,font_family:"Helvetica, Arial, sans-serif",x_label_size:14,y_label_size:14,label_format:"%m/%d",show_grid:false,x_padding:45,y_padding:40,multi_axis:false,scale:"linear",y_axis_scale:[],render:"line",bar_width:20};R.merge=function(W,V){var S,T,U;if(W==null){W={}}if(V==null){V={}}T={};for(S in W){U=W[S];T[S]=U}for(S in V){U=V[S];if(V.hasOwnProperty(S)){T[S]=U}}return T};function R(S){var T,U,W,V;U={};V=R.DEFAULTS;for(T in V){W=V[T];U[T]=W}for(T in S){W=S[T];if(S.hasOwnProperty(T)){U[T]=W}}return U}return R})();var b;b=(function(){function R(){}R.clone=function(T){var U,S;if(!((T!=null)&&typeof T==="object")){return T}U=new T.constructor();for(S in T){U[S]=R.clone(T[S])}return U};R.comma=function(V){var U,T,S,W;W=V.toString();U="";
T=0;S=W.length-1;while(S>=0){U+=W.charAt(T);if(S%3===0&&S!==0){U+=","}T++;S--}return U};R.commas=function(S){var T;T=S.toString().split(".");if(T.length===1){return this.comma(T[0])}else{return this.comma(T[0])+"."+T[1]}};return R})();var u,C,v,n,m;v=function(R){switch(R){case 1:return"Jan";case 2:return"Feb";case 3:return"Mar";case 4:return"Apr";case 5:return"May";case 6:return"Jun";case 7:return"Jul";case 8:return"Aug";case 9:return"Sep";case 10:return"Oct";case 11:return"Nov";case 12:return"Dec"}};m=function(S,U){var R,T;if(U==null){U=2}R=U>0?Math.pow(10,U):1;T=Math.round(S*R)/R;return b.commas(T)};n=function(U,V){var R,S,T;if(V==null){V=2}S=V>0?Math.pow(10,V):1;if(U>1000000){R=U/1000000;R=Math.round(R*S)/S;return R+"m"}else{if(U>1000){T=U/1000;return Math.round(T*S)/S+"k"}else{return Math.round(U*S)/S}}};C=(function(){function R(S,T){this.r=S;this.format=T!=null?T:"";this.num=0;this.font_family="Helvetica, Arial, sans-serif";this.color="#333"}R.prototype.x=function(S){this.x_func=S;return this};R.prototype.y=function(S){this.y_func=S;return this};R.prototype.size=function(S){this.size=S;return this};R.prototype.attr=function(S){this.options=S;return this};R.prototype.draw=function(T){var S;
S=new u(this.r,this.x_func(this.num),this.y_func(this.num),T,this.format,this.size,this.font_family,this.color,this.options);this.num+=1;return S.draw()};return R})();u=(function(){function R(S,W,V,Y,X,aa,U,T,Z){this.r=S;this.x=W;this.y=V;this.text=Y;this.format=X!=null?X:"";this.size=aa!=null?aa:14;this.font_family=U!=null?U:"Helvetica, Arial, sans-serif";this.color=T!=null?T:"#333";this.options=Z!=null?Z:void 0}R.prototype.is_date=function(S){return Object.prototype.toString.call(S)==="[object Date]"};R.prototype.parse_date=function(U){var X,S,V,W,T;S=this.format.match(/%([a-zA-Z])/g);X=this.format;for(W=0,T=S.length;W<T;W++){V=S[W];X=X.replace(V,this.parse_format(V))}return X};R.prototype.meridian_indicator=function(T){var S;S=T.getHours();if(S>=12){return"pm"}else{return"am"}};R.prototype.to_12_hour_clock=function(U){var T,S;S=U.getHours();T=S%12;if(T===0){return 12}else{return T}};R.prototype.fmt_minutes=function(S){var T;T=S.getMinutes();if(T<10){return"0"+T}else{return T}};R.prototype.parse_format=function(S){switch(S){case"%m":return this.text.getMonth()+1;case"%b":return v(this.text.getMonth()+1);case"%d":return this.text.getDate();case"%Y":return this.text.getFullYear();case"%H":return this.text.getHours();
case"%M":return this.fmt_minutes(this.text);case"%I":return this.to_12_hour_clock(this.text);case"%p":return this.meridian_indicator(this.text)}};R.prototype.draw=function(){var U,V,T,S;V="";if(this.is_date(this.text)){V=this.parse_date(this.text)}else{if(typeof this.text==="number"){V=m(this.text)}else{V=this.text}}this.element=this.r.text(this.x,this.y,V);T=this.element.getBBox().width;U=5;this.element.attr({fill:this.color,"font-size":this.size,"font-weight":"normal","text-anchor":"middle","font-family":this.font_family});if(this.options!=null){this.element.attr(this.options)}else{S=this.x<T?(T/2)+U:this.x;this.element.attr({x:S})}return this.element};return R})();var z;z=(function(){function R(W,V,S,U,T){this.r=W;this.width=V;this.height=S;this.points=U;this.options=T}R.prototype.draw=function(){var U,ae,Y,af,ad,T,ac,Z,aa,S,W,V,ab,X;U=Math.round(this.points.length/this.options.step_size);ae=this.height-this.options.y_padding;T=this.width-this.options.x_padding;Z=Math.round(T/U);S=Math.round(ae/U);aa=this.options.y_padding;af=this.r.set();X=this.points;for(Y=W=0,ab=X.length;W<ab;Y=++W){ad=X[Y];if(!(Y%this.options.step_size===0)){continue}ac=this.points[Y].x;af.push(this.r.path("M "+ac+", "+this.options.y_padding+" L "+ac+", "+ae+" Z"))
}for(Y=V=0;0<=U?V<=U:V>=U;Y=0<=U?++V:--V){if(aa<=ae){af.push(this.r.path("M "+this.options.x_padding+", "+aa+" L "+T+", "+aa+" Z"))}aa+=S}return af.attr({stroke:"#ccc","stroke-width":1}).toBack()};return R})();var B;B=(function(){function R(U,S,T,V){this.r=U;this.point=S;this.opts=T;this.scale_factor=V!=null?V:1.5;this.element=this.r.circle(S.x,S.y,this.opts.dot_size);this.style_dot();if(this.opts.hover_enabled){this.attach_handlers()}}R.prototype.style_dot=function(){this.element.attr({fill:this.opts.dot_color,stroke:this.opts.dot_stroke_color,"stroke-width":this.opts.dot_stroke_size});return this.element.toFront()};R.prototype.activate=function(){this.element.attr({fill:"#333"});return this.element.animate({r:this.opts.dot_size*this.scale_factor},200)};R.prototype.deactivate=function(){var S;S=1/this.scale_factor;this.element.attr({fill:this.opts.dot_color});return this.element.animate({r:this.opts.dot_size},200)};R.prototype.attach_handlers=function(){var S=this;this.element.mouseover(function(){return S.activate()});return this.element.mouseout(function(){return S.deactivate()})};R.prototype.hide=function(){return this.element.hide()};return R})();var A;A=(function(){R.DEFAULTS={line_width:4,line_color:"#000",area_color:"#00aadd",area_width:20,area_opacity:0.2,bar_margin:8,show_average:true,average_width:4,average_height:8,average_color:"#000",font_family:"Helvetica, Arial, sans-serif",x_label_size:14,y_label_size:14,x_padding:45,y_padding:40};
R.merge=function(W,V){var S,T,U;if(W==null){W={}}if(V==null){V={}}T={};for(S in W){U=W[S];T[S]=U}for(S in V){U=V[S];if(V.hasOwnProperty(S)){T[S]=U}}return T};function R(S){var T,U,W,V;U={};V=R.DEFAULTS;for(T in V){W=V[T];U[T]=W}for(T in S){W=S[T];if(S.hasOwnProperty(T)){U[T]=W}}return U}return R})();var e;e=(function(){R.merge=function(W,V){var S,T,U;if(W==null){W={}}if(V==null){V={}}T={};for(S in W){U=W[S];T[S]=U}for(S in V){U=V[S];if(V.hasOwnProperty(S)){T[S]=U}}return T};function R(S,W){var T,U,V;U={};for(T in W){V=W[T];U[T]=V}for(T in S){V=S[T];if(S.hasOwnProperty(T)){U[T]=V}}return U}return R})();var M,Q={}.hasOwnProperty,j=function(U,S){for(var R in S){if(Q.call(S,R)){U[R]=S[R]}}function T(){this.constructor=U}T.prototype=S.prototype;U.prototype=new T();U.__super__=S.prototype;return U};M=(function(R){j(S,R);S.DEFAULTS={bar_margin:30,bar_bg_color:"#bdced3",bar1_color:"90-#2f5e78-#4284a8",bar2_color:"90-#173e53-#225d7c",raw_value_bar_color:"#9eb7bf",x_padding:160,x_padding_right:100,y_padding:50,bg_bar_padding:14,rounding:3,dash_width:3,label_size:14,font_family:"Helvetica, Arial, sans-serif"};function S(T){return S.__super__.constructor.call(this,T,S.DEFAULTS)}return S})(e);var F;
F=(function(){R.DEFAULTS={bar_width:20,bar_spacing:20,bar_color:"#00aadd",rounding:0,font_family:"Helvetica, Arial, sans-serif",show_x_labels:true,show_y_labels:true,x_label_size:14,x_label_color:"#333",y_label_size:14,y_label_color:"#333",show_grid:false,x_padding:25,y_padding:40};R.merge=function(W,V){var S,T,U;if(W==null){W={}}if(V==null){V={}}T={};for(S in W){U=W[S];T[S]=U}for(S in V){U=V[S];if(V.hasOwnProperty(S)){T[S]=U}}return T};function R(S){var T,U,W,V;U={};V=R.DEFAULTS;for(T in V){W=V[T];U[T]=W}for(T in S){W=S[T];if(S.hasOwnProperty(T)){U[T]=W}}return U}return R})();var i,L,N,g=function(R,S){return function(){return R.apply(S,arguments)}};L=(function(){function R(){this.scale=g(this.scale,this)}R.prototype.domain=function(S){this.domain_min=Math.min.apply(Math.min,S);this.domain_max=Math.max.apply(Math.max,S);return this};R.prototype.range=function(S){this.range_min=Math.min.apply(Math.min,S);this.range_max=Math.max.apply(Math.max,S);return this.scale};R.prototype.scale=function(V){var W,T,U,S;W=this.domain_max-this.domain_min;T=this.range_max-this.range_min;U=(this.domain_max*this.range_min-this.domain_min*this.range_max)/W;S=U+V*(T/W);if(W===0){return this.range_min}else{return S
}};return R})();i=(function(){function R(S){this.base=S!=null?S:10;this.scale=g(this.scale,this);return this.scale}R.prototype.scale=function(T){var S;S=Math.log;return S(T)/S(this.base)};return R})();N=(function(){function R(){}R.get_ranges_for_points=function(Z){var S,ab,X,V,Y,T,aa,U,W;T=[];aa=[];for(U=0,W=Z.length;U<W;U++){Y=Z[U];T.push(Y.x);aa.push(Y.y)}S=Math.max.apply(Math.max,T);ab=Math.max.apply(Math.max,aa);X=Math.min.apply(Math.min,T);V=Math.min.apply(Math.min,aa);return[S,X,ab,V]};R.threshold=function(T,S){if(T>S){return S}else{return T}};return R})();J.Scaling=N;J.Scaler=L;var o;o=(function(){function R(S,U,T){this.y=U;this.options=T!=null?T:{};if(this.is_date(S)){this.x=S.getTime();this.is_date_type=true}else{this.x=S}return}R.prototype.is_date=function(S){return Object.prototype.toString.call(S)==="[object Date]"};return R})();J.Point=o;var I;Raphael.fn.triangle=function(R,T,S){S*=1.75;return this.path("M".concat(R,",",T,"m0-",S*0.58,"l",S*0.5,",",S*0.87,"-",S,",0z"))};I=(function(){function R(S){this.r=S}R.prototype.black_nub=function(Y,ad,ac,W,af){var X,V,S,ab,ae,T,U,aa,Z;if(ad==null){ad=10}if(ac==null){ac=8}if(W==null){W=0}if(af==null){af=0}X=Y.getBBox();aa=X.x;Z=X.y;
ab=X.width;V=X.height;S=aa+ab/2;U=ab+(2*ad);ae=V+(2*ac);T=this.r.set();T.push(this.r.rect(S-U/2,Z-ac,U,ae,af));T.push(this.r.triangle(aa+ab+ad+2,Z+2+(0.5*V),4).rotate(90));return T.attr({fill:"#333",stroke:"none"}).toBack()};R.prototype.straight_line=function(T,S){return this.r.path("M"+T.x+","+T.y+"L"+S.x+","+S.y)};R.prototype.vertical_dashed_line=function(ab,S,ac,W){var X,aa,V,Y,Z,T,U;if(ac==null){ac=3}if(W==null){W=10}aa=S.y-ab.y;Z=Math.floor(aa/W);X=this.r.set();for(V=T=0,U=Z-1;0<=U?T<=U:T>=U;V=0<=U?++T:--T){if(V%2!==0){continue}Y=this.r.rect(ab.x-(0.5*ac),V*W+ab.y,ac,W);X.push(Y)}return X};R.prototype.get_points_along_top_of_bbox=function(X,S){var Y,U,T,W,V;if(S==null){S=0}Y=X.getBBox();U=Y.x;T=Y.x+Y.width;W=Y.y+S;V=W;return[new o(U,W),new o(T,V)]};R.prototype.one_px_highlight=function(T){var S,V,U;U=this.get_points_along_top_of_bbox(T,2),V=U[0],S=U[1];this.straight_line(V,S).attr({"stroke-width":1,stroke:"rgba(255,255,255,0.3)"});return this.straight_line};R.prototype.one_px_shadow=function(T){var S,V,U;U=this.get_points_along_top_of_bbox(T),V=U[0],S=U[1];this.straight_line(V,S).attr({"stroke-width":0.5,stroke:"rgba(0,0,0,0.5)"});return this.straight_line};return R})();J.Effects=I;
var x;x=(function(){function R(T,Z,ag,aa){var X,V,S,ae,af,W,ad,ah,ai,U,ac,ab,Y=this;this.r=T;if(aa==null){aa=true}ai=30;af=25;W=10;ah=5;if(typeof ag==="number"){ag=b.commas(Math.round(ag*100)/100)}X=Z.getBBox();ac=X.x;ab=X.y;ae=X.width;V=X.height;S=ac+ae/2;this.text=this.r.text(S,ab-(af/2+W),ag);this.text.attr({fill:"#fff","font-size":14,"text-anchor":"middle",opacity:0,"font-weight":"bold"});ad=10;U=this.text.getBBox().width+ad*2;this.popup=this.r.set();this.popup.push(this.r.rect(S-U/2,ab-(af+W),U,af,ah));this.triangle=this.r.triangle(S,ab-W+4,4).rotate(180);this.popup.push(this.triangle);this.popup.attr({fill:"rgba(0,0,0,.4)",opacity:0,stroke:"none"});this.popup.toFront();this.text.toFront();if(aa===true){Z.mouseover(function(){return Y.show()});Z.mouseout(function(){return Y.hide()})}}R.prototype.animate_opacity=function(S,T,U){var V=this;if(U==null){U=200}return S.animate({opacity:T,"fill-opacity":T},U,function(){if(T===0){V.text.toBack();return V.popup.toBack()}})};R.prototype.hide=function(){this.animate_opacity(this.popup,0);return this.animate_opacity(this.text,0)};R.prototype.show=function(){this.popup.toFront();this.text.toFront();this.animate_opacity(this.popup,0.9);return this.animate_opacity(this.text,1)
};R.prototype.translate=function(S,T){this.popup.translate(S,T);this.text.translate(S,T);return this.triangle.translate(-2*S,T)};return R})();J.Tooltip=x;var k;k=(function(){function R(X,V,T,S,W,U){this.r=X;this.raw_points=V;this.scaled_points=T;this.height=S;this.width=W;this.options=U!=null?U:{};this.effective_height=this.height-this.options.y_padding;this.x_offset=this.options.bar_width/2}R.prototype.draw=function(){return this.draw_bars()};R.prototype.draw_bars=function(){var U,W,ac,ab,X,aa,V,Z,S,Y,T;aa=this.r.set();V=[];W=0;ac=0;T=this.scaled_points;for(U=S=0,Y=T.length;S<Y;U=++S){ab=T[U];Z=ab.x-this.x_offset;X=this.r.rect(Z,ab.y,this.options.bar_width,this.effective_height-ab.y);aa.push(X);V.push(new x(this.r,X,this.raw_points[U].y));if(this.raw_points[U].y>=this.raw_points[W].y){W=U}if(this.raw_points[U].y<this.raw_points[ac].y){ac=U}}aa.attr({fill:this.options.line_color,stroke:"none"});if(this.options.label_max){V[W].show()}if(this.options.label_min){return V[ac].show()}};return R})();var h;h=(function(){function R(){}R.create_path=function(aa,V){var Y,W,U,ab,Z,S,X,T;if(V==null){V=0.5}ab="M"+aa[0].x+", "+aa[0].y;for(U=S=0,X=aa.length;S<X;U=++S){Z=aa[U];if(U===0){continue}T=R.get_control_points(aa,U-1,V),Y=T[0],W=T[1];
ab+="C"+Y.x+","+Y.y+" "+W.x+","+W.y+" "+aa[U].x+","+aa[U].y}return ab};R.get_control_points=function(ak,al,aj,ad){var ac,ai,ah,ab,U,S,Y,W,V,T,af,ae,an,am,ag,aa,Z,X;if(ad==null){ad=3}ag=this.get_prev_and_next_points(ak,al),Y=ag[0],V=ag[1];aa=this.get_prev_and_next_points(ak,al+1),W=aa[0],T=aa[1];Z=this.get_tangent(Y,V),af=Z[0],ae=Z[1];X=this.get_tangent(W,T),an=X[0],am=X[1];ai=W.x+(af*aj)/ad;ah=W.y+(ae*aj)/ad;U=V.x-(an*aj)/ad;S=V.y-(am*aj)/ad;ac=new o(ai,ah);ab=new o(U,S);return[ac,ab]};R.get_prev_and_next_points=function(U,S){var T,V;V=S-1;T=S+1;if(V<0){V=0}if(T>=U.length){T=U.length-1}return[U[V],U[T]]};R.get_tangent=function(V,U){var T,S;T=U.x-V.x;S=U.y-V.y;return[T,S]};return R})();J.Bezier=h;var d;d=(function(){function R(X,V,T,S,W,U){this.r=X;this.raw_points=V;this.scaled_points=T;this.height=S;this.width=W;this.options=U!=null?U:{}}R.prototype.draw=function(){var S;S=h.create_path(this.scaled_points,this.options.smoothing);if(this.options.fill_area){this.draw_area(S)}this.draw_curve(S);if(this.options.dot_size>0){this.draw_dots_and_tooltips(this.scaled_points,this.raw_points)}};R.prototype.draw_curve=function(S){var T;T=this.r.path(S);return T.attr({stroke:this.options.line_color,"stroke-width":this.options.line_width}).toFront()
};R.prototype.draw_area=function(V){var U,W,X,S,T;T=this.scaled_points;S=this.height-this.options.y_padding;W=T[T.length-1];X=T[0];V+="L "+W.x+", "+S+" ";V+="L "+X.x+", "+S+" ";V+="Z";U=this.r.path(V);U.attr({fill:this.options.area_color,"fill-opacity":this.options.area_opacity,stroke:"none"});return U.toBack()};R.prototype.draw_dots_and_tooltips=function(){var S,X,U,Y,ae,af,ab,V,ac,aa,ad,W,T,Z;aa=this.scaled_points;ac=this.raw_points;W=[];X=[];Y=0;ae=0;for(U=T=0,Z=aa.length;T<Z;U=++T){ab=aa[U];V=ac[U];if(V.y>=ac[Y].y){Y=U}if(V.y<ac[ae].y){ae=U}af=b.clone(this.options);af.hover_enabled=!V.options.show_dot;S=new B(this.r,ab,af);ad=new x(this.r,S.element,V.options.tooltip||V.y,af.hover_enabled);X.push(S);W.push(ad);if(V.options.no_dot===true){S.hide()}if(V.options.show_dot===true){S.activate();ad.show()}}if(this.options.label_max){W[Y].show();X[Y].activate()}if(this.options.label_min){W[ae].show();return X[ae].activate()}};return R})();var K,r;r=function(R){if(R.tagName!==void 0){return true}else{return false}};K=(function(){function R(V,T){var S,U;S=r(V)?V:document.getElementById(V);U=this.get_dimensions(S),this.width=U[0],this.height=U[1];this.r=Raphael(S,this.width,this.height);this.options=T
}R.prototype.get_dimensions=function(T){var S,U;U=parseInt(T.style.width);S=parseInt(T.style.height);return[U,S]};R.prototype.clear=function(){return this.r.clear()};return R})();var D,a,t,y,l,Q={}.hasOwnProperty,j=function(U,S){for(var R in S){if(Q.call(S,R)){U[R]=S[R]}}function T(){this.constructor=U}T.prototype=S.prototype;U.prototype=new T();U.__super__=S.prototype;return U};a=(function(S){j(R,S);R.DEFAULTS={main_circle_radius:70,child_radius_multiplier:0.15,hover_scale_multiplier:1.2,inactive_opacity:0.4,outer_radius_multiplier:1.35,outer_radius2_multiplier:1.5,bounce_radius:1.2,fill_color:"#00a6dd"};function R(T){return R.__super__.constructor.call(this,T,R.DEFAULTS)}return R})(e);l=function(S,U,T){var R,V;R=U*Math.cos(T)+S.x;V=U*Math.sin(T)+S.y;return new o(R,V)};t=function(R,S,W,T,V){var U;U=function(Y,X,Z,aa){if(aa==null){aa=void 0}return Y.animate({x:X.x,y:X.y,cx:X.x,cy:X.y},Z,"<",aa)};return U(R,S,T,function(){return U(R,W,V)})};y=function(S,W,U,R){var T,V;T={fill:this.options.fill_color,stroke:"none"};V=this.r.set();V.push(this.r.circle(S,W,U).attr(T));V.push(this.r.text(S,W,"+").attr({"font-size":R,fill:"#fff"}));return V.attr({cursor:"pointer"}).toFront()};D=(function(S){j(R,S);
function R(U,T){if(T==null){T={}}R.__super__.constructor.call(this,U,new a(T));this.center_point=new o(this.width/2,this.height/2);this.main_radius=this.options.main_circle_radius;this.child_radius=this.main_radius*this.options.child_radius_multiplier;this.outer_radius=this.main_radius*this.options.outer_radius_multiplier;this.outer_radius2=this.outer_radius*this.options.outer_radius2_multiplier;this.bounce_radius=this.outer_radius*this.options.bounce_radius;this.children=[]}R.prototype.add_hover=function(U){var V,T,W=this;V=function(X){U[0].animate({r:W.options.hover_scale_multiplier*W.child_radius,opacity:1,"stroke-width":2,stroke:"rgba(0,0,0,.4)"},200);U[1].animate({"font-size":22,opacity:1,fill:"#fff"},200);return U._label.animate({opacity:1},200)};T=function(X){U[0].animate({r:W.child_radius,opacity:W.options.inactive_opacity,stroke:"none","stroke-width":0},200);U[1].animate({opacity:0},200);return U._label.animate({opacity:0},200)};U._activate=V;U._deactivate=T;return U.hover(V,T)};R.prototype.add=function(T){return this.children.push(T)};R.prototype.create_circles_along_radius=function(ab,X,aa,ag){var T,Z,ah,V,af,ae,ac,W,ad,Y,U;af=(2*Math.PI)/24;U=[];for(Z=W=0,ad=ab.length;W<ad;
Z=++W){ah=ab[Z];V=Z*af;Y=l(this.center_point,aa,V),ae=Y.x,ac=Y.y;T=this.draw_circle(this.center_point.x,this.center_point.y,X,16);T._realx=ae;T._realy=ac;T._radians=V;T.attr({opacity:this.options.inactive_opacity}).toFront();T[1].attr({opacity:0});this.add_label_to_circle(ah,T);this.add_hover(T);U.push(ag(ah,T))}return U};R.prototype.bounce_circles=function(ad,ae){var X,ac,ag,W,af,Y,ah,ak,aj,T,ab,Z,V,ai,aa,U;if(!ae){return}X=100;ah=10;aj=100;U=[];for(af=V=0,ai=ae.length;V<ai;af=++V){W=ae[af];ak=W._radians;aa=l(this.center_point,this.bounce_radius,ak),ab=aa.x,Z=aa.y;ag=new o(ab,Z);Y=void 0;T=void 0;if(ad._active){Y=ae.length-af;T=this.center_point;W.toBack()}else{Y=af;T=new o(W._realx,W._realy);W.toFront()}ac=X+Y*ah;U.push(t(W,ag,T,ac,aj))}return U};R.prototype.add_click_to_circle=function(V,U){var T,W=this;if(U==null){U=false}T=function(aa){var ac,ab,Z,X,Y;if(V._active){V.hover(V._activate,V._deactivate);ab=0;if(V._children){Y=V._children;for(Z=0,X=Y.length;Z<X;Z++){ac=Y[Z];if(!ac._active){continue}ac._deactivate();ac._click_handler()}}}else{V.unhover(V._activate,V._deactivate);ab=45}W.bounce_circles(V,V._children);V.animate({transform:"r"+ab},200);return V._active=!V._active};V._click_handler=T;
return V.click(T)};R.prototype.add_label_to_circle=function(V,W){var U,T,Y,Z,X;T=this.r.text(W._realx,W._realy,V.label).attr({"font-size":14});Y=this.r.text(W._realx,W._realy+15,n(V.value)).attr({"font-size":12,fill:this.options.fill_color}).toBack();Z=this.r.set();Z.push(T);Z.push(Y);if(W._realx>this.center_point.x){U="start";X=30}else{U="end";X=-30}Z.attr({"text-anchor":U,x:W._realx+X,opacity:0});return W._label=Z};R.prototype.add_grandchildren=function(T,U){var V=this;if(!T.children){return}U._children=[];return this.create_circles_along_radius(T.children,this.child_radius,this.outer_radius2,function(X,W){U._active=false;return U._children.push(W)})};R.prototype.draw_circle=function(U,Y,W,T){var V,X;V={fill:this.options.fill_color,stroke:"none"};X=this.r.set();X.push(this.r.circle(U,Y,W).attr(V));X.push(this.r.text(U,Y,"+").attr({"font-size":T,fill:"#fff"}));return X.attr({cursor:"pointer"}).toFront()};R.prototype.draw=function(){var V,U,T,W=this;U=this.draw_circle(this.center_point.x,this.center_point.y,this.main_radius,100);U._active=false;U._children=[];this.add_click_to_circle(U,true);V=this.children.length;T=(2*Math.PI)/V;this.create_circles_along_radius(this.children,this.child_radius,this.outer_radius,function(Y,X){W.add_grandchildren(Y,X);
W.add_click_to_circle(X);return U._children.push(X)});return U.toFront()};return R})(K);J.PathMenu=D;var w,c,s,Q={}.hasOwnProperty,j=function(U,S){for(var R in S){if(Q.call(S,R)){U[R]=S[R]}}function T(){this.constructor=U}T.prototype=S.prototype;U.prototype=new T();U.__super__=S.prototype;return U};s=function(S,aa,Z,W,U){var Y,T,ab,X,V;T=360/W*Z;Y=(90-T)*Math.PI/180;X=S+U*Math.cos(Y);V=aa-U*Math.sin(Y);ab=void 0;if(W===Z){ab=[["M",S,aa-U],["A",U,U,0,1,1,S-0.01,aa-U]]}else{ab=[["M",S,aa-U],["A",U,U,0,+(T>180),1,X,V]]}return{path:ab}};c=(function(R){j(S,R);S.DEFAULTS={radius:55,stroke_width:30,font_color:"#333333",label_color:"#333333",fill_color:"#fff",stroke_color:"#81ae14",background_color:"#222222",text_shadow:false};function S(T){return S.__super__.constructor.call(this,T,S.DEFAULTS)}return S})(e);w=(function(S){j(R,S);function R(V,U,W,T){this.label=U;this.value=W;if(T==null){T={}}R.__super__.constructor.call(this,V,new c(T));this.center_point=new o(this.width/2,this.height/2);this.r.customAttributes.arc=s}R.prototype.draw=function(){var T,V,U;V=this.r.path().attr({"stroke-width":this.options.stroke_width,stroke:this.options.stroke_color,arc:[this.center_point.x,this.center_point.y,0,100,this.options.radius]});
this.r.circle(this.center_point.x,this.center_point.y,this.options.radius).attr({fill:this.options.fill_color,stroke:"none","stroke-width":0});U=Math.round(this.value*100/100)+"%";this.r.text(this.center_point.x,this.center_point.y,U).attr({"font-size":this.options.radius/2.5,fill:this.options.font_color,"font-weight":"bold"});T=this.r.text(this.center_point.x,this.center_point.y+1.8*this.options.radius,this.label).attr({"font-size":this.options.radius/2.5,"font-weight":"bold",fill:this.options.label_color});if(this.options.text_shadow){this.r.text(this.center_point.x,this.center_point.y+1.8*this.options.radius+1,this.label).attr({"font-size":this.options.radius/2.5,"font-weight":"bold",fill:this.options.text_shadow}).toBack()}return V.animate({arc:[this.center_point.x,this.center_point.y,this.value,100,this.options.radius]},1500,"<")};return R})(K);J.CircleProgress=w;var E,Q={}.hasOwnProperty,j=function(U,S){for(var R in S){if(Q.call(S,R)){U[R]=S[R]}}function T(){this.constructor=U}T.prototype=S.prototype;U.prototype=new T();U.__super__=S.prototype;return U};E=(function(S){j(R,S);function R(U,T){if(T==null){T={}}R.__super__.constructor.call(this,U,new P(T));this.padding=26;this.all_points=[];
this.line_indices=[];this.line_options=[]}R.prototype.add_line=function(V){var Z,X,W,U,Y,T;Z=V.data;if(Z.length<1){return}W=[];for(Y=0,T=Z.length;Y<T;Y++){X=Z[Y];if(X.length===3){W.push(new o(X[0],X[1],X[2]))}else{W.push(new o(X[0],X[1]))}}U=this.all_points.length;this.line_indices.push([U,U+W.length-1]);this.all_points.push.apply(this.all_points,W);this.line_options.push(P.merge(this.options,V.options))};R.prototype.draw_grid=function(X,ad){var ag,af,T,ai,Y,ac,ah,W,V,ab,aa,Z,ae,U;if(X==null){X=[]}if(ad==null){ad=[]}ah=function(al,aj,ak){return al.attr({stroke:aj,"stroke-width":ak})};ab=this.options.multi_axis?this.options.x_padding*2:this.options.x_padding;ag=this.height-this.options.y_padding;V=this.width-ab;ai=this.r.set();for(aa=0,ae=X.length;aa<ae;aa++){W=X[aa];ai.push(this.r.path("M "+W+", "+this.options.y_padding+" L "+W+", "+ag+" Z"))}for(Z=0,U=ad.length;Z<U;Z++){W=ad[Z];ai.push(this.r.path("M "+this.options.x_padding+", "+W+" L "+V+", "+W+" Z"))}if(this.options.multi_axis===true&&this.line_options.length===2){af=this.options.x_padding;T=this.r.path("M "+af+", "+this.options.y_padding+" L "+af+", "+ag+" Z");Y=this.width-this.options.x_padding*2;ac=this.r.path("M "+Y+", "+this.options.y_padding+" L "+Y+", "+ag+" Z");
ah(T,this.line_options[0].line_color,2).toBack();ah(ac,this.line_options[1].line_color,2).toBack()}return ah(ai,"#ddd",1).toBack()};R.prototype.create_scalers=function(ai){var ac,X,Z,T,aj,ah,af,U,ag,aa,ae,ad,Y,W,V,ab=this;ae=void 0;T=void 0;ah=void 0;aj=void 0;af=void 0;if(this.options.scale==="log"){X=new i();Z=(function(){var am,al,ak;ak=[];for(am=0,al=ai.length;am<al;am++){U=ai[am];ak.push(new o(U.x,X(U.y)))}return ak})();Y=N.get_ranges_for_points(Z),T=Y[0],ah=Y[1],aj=Y[2],af=Y[3]}else{W=N.get_ranges_for_points(ai),T=W[0],ah=W[1],aj=W[2],af=W[3]}if(this.options.y_axis_scale.length===2){V=this.options.y_axis_scale,af=V[0],aj=V[1]}aa=this.options.multi_axis?this.options.x_padding*2:this.options.x_padding;ag=new L().domain([ah,T]).range([this.options.x_padding,this.width-aa]);ad=new L().domain([af,aj]).range([this.options.y_padding,this.height-this.options.y_padding]);ac=function(ak){return ab.height-ad(ak)};if(this.options.scale==="log"){ae=function(ak){return ac(X(ak))}}else{ae=ac}return[ag,ae]};R.prototype.create_scalers_for_single_point=function(){var T,V,U=this;V=function(W){return 0.5*(U.height-U.options.y_padding)};T=function(W){return 0.5*(U.width-U.options.x_padding)};return[T,V]
};R.prototype._draw_y_labels=function(ab,aa){var U,T,ac,ah,V,Y,ag,ai,af,ad,X,ae,Z,W;if(aa==null){aa=0}T=this.options.label_format;ai=this.options.y_label_size;ac=this.options.font_family;ag=ai+5;Y=this.options.multi_axis&&aa>0?aa:aa+ag;if(ab.length===1){Z=this.create_scalers_for_single_point(),af=Z[0],ad=Z[1]}else{W=this.create_scalers(ab),af=W[0],ad=W[1]}V=[];U=new C(this.r,T).x(function(aj){return Y}).y(function(aj){return ad(ab[aj].y)}).size(ai);for(X=0,ae=ab.length;X<ae;X++){ah=ab[X];U.draw(ah.y);V.push(ad(ah.y))}return V};R.prototype.calc_y_label_step_size=function(U,W,V){var T;if(V==null){V=this.options.max_y_labels}T=(W-U)/(V-1);if(W>1){T=Math.round(T);if(T===0){T=1}}return T};R.prototype.draw_y_labels=function(ah,aa){var X,ag,ab,Y,T,ai,af,ad,V,U,ae,ac,Z,W;if(aa==null){aa=0}Z=N.get_ranges_for_points(ah),T=Z[0],af=Z[1],ai=Z[2],ad=Z[3];if(this.options.y_axis_scale.length===2){W=this.options.y_axis_scale,ad=W[0],ai=W[1]}if(ai===ad){return this._draw_y_labels([new o(0,ai)],aa)}ab=[];if(this.options.scale==="log"){Y=new i();U=Y(ad);X=Y(ai);ae=(X-U)/(this.options.max_y_labels-1);ag=ad;V=0;while(ag<=ai&&V<this.options.max_y_labels){ag=Math.pow(10,U+ae*V);ab.push(new o(0,ag));V+=1}}else{ac=ad;
ae=this.calc_y_label_step_size(ad,ai);while(ac<=ai){ab.push(new o(0,ac));ac+=ae}}if(ai>1){ab[ab.length-1].y=Math.round(ai)}return this._draw_y_labels(ab,aa)};R.prototype.draw_x_label=function(Y,T){var V,U,W,X;V=this.options.label_format;X=this.options.x_label_size;U=this.options.font_family;W=Y.is_date_type===true?new Date(Y.x):Math.round(Y.x);return new u(this.r,T.x,this.height-X,W,V,X,U).draw()};R.prototype.draw_x_labels=function(ad,ac){var V,U,ab,X,T,Z,W,aa,Y;U=[];T=this.options.max_x_labels;this.draw_x_label(ad[0],ac[0]);U.push(ac[0].x);if(T<2){return}ab=ac.length-1;this.draw_x_label(ad[ab],ac[ab]);U.push(ac[ab].x);if(T<3){return}X=ac.length-2;Y=X/(T-1);aa=Math.round(Y);if(Y!==aa){Y=aa+1}V=Y;while(V<X){W=ad[V];Z=ac[V];this.draw_x_label(W,Z);U.push(Z.x);V+=Y}return U};R.prototype.draw_line=function(U,V,T){if(this.options.render==="bar"){return new k(this.r,U,V,this.height,this.width,T).draw()}else{return new d(this.r,U,V,this.height,this.width,T).draw()}};R.prototype.clear=function(){R.__super__.clear.call(this);this.all_points=[];this.line_indices=[];return this.line_options=[]};R.prototype.draw=function(){var T,W,Z,ag,aj,ah,ai,ad,ae,af,ac,aa,X,ab,Y,V,U;if(this.all_points.length<1){return
}this.r.clear();Y=this.all_points.length>1?this.create_scalers(this.all_points):this.create_scalers_for_single_point(),ac=Y[0],aa=Y[1];V=this.line_indices;for(Z=X=0,ab=V.length;X<ab;Z=++X){ag=V[Z];T=ag[0],W=ag[1];af=this.all_points.slice(T,W+1||9000000000);if(this.options.multi_axis){U=this.all_points.length>2?this.create_scalers(af):this.create_scalers_for_single_point(),aj=U[0],ah=U[1]}else{aj=ac;ah=aa}ae=(function(){var am,al,ak;ak=[];for(am=0,al=af.length;am<al;am++){ad=af[am];ak.push(new o(aj(ad.x),ah(ad.y)))}return ak})();ai=this.line_options[Z];this.draw_line(af,ae,ai);if(Z===0){if(this.options.show_x_labels===true){this.x_label_coordinates=this.draw_x_labels(af,ae)}if(this.options.multi_axis&&this.options.show_y_labels===true){this.y_label_coordinates=this.draw_y_labels(af)}else{if(this.options.show_y_labels===true){this.y_label_coordinates=this.draw_y_labels(this.all_points)}}if(this.options.show_grid===true){this.draw_grid(this.x_label_coordinates,this.y_label_coordinates)}}else{if(Z===1&&this.options.multi_axis){if(this.options.show_y_labels===true){this.draw_y_labels(af,this.width-this.options.x_padding)}}}}};return R})(K);J.LineChart=E;var G,f,q,Q={}.hasOwnProperty,j=function(U,S){for(var R in S){if(Q.call(S,R)){U[R]=S[R]
}}function T(){this.constructor=U}T.prototype=S.prototype;U.prototype=new T();U.__super__=S.prototype;return U};f=function(S,T,R){return{label:S,raw_value:T,index_value:R}};q=function(T,R,S){return{label:T,index_value:R,opacity:S}};G=(function(S){j(R,S);function R(U,T){if(T==null){T={}}R.__super__.constructor.call(this,U,new M(T));this.effects=new I(this.r);this.bars=[];this.guides=[];this.index=100}R.prototype.add=function(U,V,T){return this.bars.push(f(U,V,T))};R.prototype.add_guide_line=function(V,T,U){if(U==null){U=1}return this.guides.push(q(V,T,U))};R.prototype.add_raw_label=function(T){var V,U=this;V=new C(this.r).x(function(W){return U.width-10}).y(function(W){return W*15+15}).size(this.options.label_size).attr({fill:"#333","text-anchor":"end","font-weight":"bold"});V.draw(T);return V.draw("(raw value)").attr({"font-weight":"normal","font-size":10})};R.prototype.set_bar_height=function(){var T,V,U;U=this.bars.length;V=this.options.bar_margin;T=this.height-this.options.y_padding;return this.bar_height=(T/U)-V};R.prototype.set_threshold=function(){var T,U;U=(function(){var Y,W,X,V;X=this.guides;V=[];for(Y=0,W=X.length;Y<W;Y++){T=X[Y];V.push(T.index_value)}return V}).call(this);
return this.threshold=Math.max.apply(Math.max,U)};R.prototype.format_tooltip=function(T){return(T/100)+"x"};R.prototype.draw_raw_bar=function(T,Z){var W,Y,X,V,U;X=14;Y=Math.floor(X/2);W=10;U=this.options.x_padding_right-W;V=this.r.rect(this.width-U,Z-Y,this.width-this.options.x_padding_right,this.bar_height+X,this.options.rounding);V.attr({fill:this.options.raw_value_bar_color,stroke:"none"});return this.effects.straight_line(new o(this.width-U,this.options.y_padding-10),new o(this.width-U,this.height)).attr({stroke:"rgba(0,0,0,0.25)","stroke-width":0.1})};R.prototype.draw_bg_bar=function(U,Z,Y){var X,W,V,T;T=Z(U);W=this.options.bg_bar_padding;X=Math.floor(W/2);V=this.r.rect(this.options.x_padding-X,Y-X,this.width,this.bar_height+W,this.options.rounding);return V.attr({fill:this.options.bar_bg_color,stroke:"none"}).toBack()};R.prototype.shade_bar=function(U,T){if(T==null){T=this.options.bar1_color}U.attr({fill:T,stroke:"none"});this.effects.one_px_shadow(U);return this.effects.one_px_highlight(U)};R.prototype.render_bar=function(V,T,W,U){var X;if(U==null){U=this.options.bar1_color}X=this.r.rect(V,T,W,this.bar_height,this.options.rounding);this.shade_bar(X,U);return X};R.prototype.draw_bar=function(U,aa,V){var T,W,Z,X,ab,Y;
Y=aa(N.threshold(U,this.threshold));if(U>this.index){T=aa(this.index);Z=this.render_bar(this.options.x_padding,V,T-this.options.x_padding);X=this.render_bar(T,V,Y-T,this.options.bar2_color);ab=new x(this.r,X,this.format_tooltip(U));ab.translate(X.getBBox().width/2,0);Z.mouseover(function(){return ab.show()});return Z.mouseout(function(){return ab.hide()})}else{W=this.render_bar(this.options.x_padding,V,Y-this.options.x_padding);ab=new x(this.r,W,this.format_tooltip(U));return ab.translate(W.getBBox().width/2,0)}};R.prototype.draw_guide_line=function(X,V,T,W){var U,Z,Y;if(W==null){W=1}Y=new o(T,this.options.y_padding);U=new o(T,this.height);this.effects.vertical_dashed_line(Y,U,this.options.dash_width).attr({fill:"rgba(0,0,0,"+W+")",stroke:"none"});Z=new C(this.r).x(function(){return T}).y(function(aa){return aa*15+15}).size(this.options.label_size).attr({fill:"rgba(0,0,0,"+W+")"});Z.draw(X).attr({"font-weight":"bold"});return Z.draw(V).attr({"font-size":10})};R.prototype.sort_bars_by_index=function(){var U,T;T=(function(){var Y,W,X,V;X=this.bars;V=[];for(Y=0,W=X.length;Y<W;Y++){U=X[Y];V.push(U)}return V}).call(this);T.sort(function(W,V){return V.index_value-W.index_value});return T};
R.prototype.clear=function(){R.__super__.clear.call(this);this.bars=[];return this.guides=[]};R.prototype.draw=function(){var ai,al,am,ah,ab,aj,T,aa,Y,ae,Z,ad,af,W,U,ak,an,ac,X,V,ag=this;this.set_bar_height();this.set_threshold();Y=this.bar_height+this.options.bar_margin;am=this.bar_height/2;af=this.options.y_padding;Z=this.options.x_padding;aj=new C(this.r).y(function(ao){return(ao*Y)+af+am}).x(function(ao){return Z-30}).size(12).attr({fill:"#fff","text-anchor":"end"});aa=new C(this.r).y(function(ao){return(ao*Y)+af+am}).x(function(ao){return ag.width-10}).size(this.options.label_size).attr({fill:"#333","text-anchor":"end"});ae=new L().domain([0,this.threshold]).range([this.options.x_padding,this.width-this.options.x_padding_right]);ad=function(ao){return ao*(ag.bar_height+ag.options.bar_margin)+ag.options.y_padding};ac=this.sort_bars_by_index();for(ah=W=0,ak=ac.length;W<ak;ah=++W){ai=ac[ah];this.draw_bg_bar(ai.index_value,ae,ad(ah));this.draw_raw_bar(ai.raw_value,ad(ah));this.draw_bar(ai.index_value,ae,ad(ah));T=aa.draw(ai.raw_value);ab=aj.draw(ai.label);this.effects.black_nub(ab)}X=this.guides;V=[];for(U=0,an=X.length;U<an;U++){al=X[U];V.push(this.draw_guide_line(al.label,al.index_value,ae(al.index_value),al.opacity))
}return V};return R})(K);J.IndexChart=function(R,S){return new G(R,S)};var p,H,Q={}.hasOwnProperty,j=function(U,S){for(var R in S){if(Q.call(S,R)){U[R]=S[R]}}function T(){this.constructor=U}T.prototype=S.prototype;U.prototype=new T();U.__super__=S.prototype;return U};H=function(R,U,S,T){return{label:R,value:U,average:S,comparison:T}};p=(function(R){j(S,R);function S(U,T){if(T==null){T={}}S.__super__.constructor.call(this,U,new A(T));this.bars=[]}S.prototype.add=function(T,W,U,V){return this.bars.push(H.apply(H,arguments))};S.prototype.draw_background=function(U,T){var V;V=this.r.rect(this.options.x_padding,T,U.x,this.options.area_width);return V.attr({fill:this.options.area_color,stroke:"none"})};S.prototype.draw_line=function(T,V){var U,W;W=V.y-this.options.line_width/2;U=this.r.rect(this.options.x_padding,W,T.x,this.options.line_width);return U.attr({fill:this.options.line_color,stroke:"none"})};S.prototype.draw_average=function(T,U){var V;V=this.r.rect(T.x-(this.options.average_width/2),U-this.options.average_height/2,this.options.average_width,this.options.average_height);return V.attr({fill:this.options.average_color,stroke:"none"})};S.prototype.draw_label=function(U,T){};S.prototype.clear=function(){S.__super__.clear.call(this);
return this.bars=[]};S.prototype.draw=function(){var ab,T,ai,W,af,ac,V,ag,ah,ae,U,Z,ad,aa,Y,X;aa=this.bars;X=[];for(ab=Z=0,ad=aa.length;Z<ad;ab=++Z){H=aa[ab];V=[new o(H.comparison,0),new o(H.value,0),new o(H.average,0),new o(0,0)];Y=N.get_ranges_for_points(V),T=Y[0],af=Y[1],ai=Y[2],ac=Y[3];ae=new L().domain([af,T]).range([this.options.x_padding,this.width-this.options.x_padding]);ah=(function(){var al,aj,ak;ak=[];for(al=0,aj=V.length;al<aj;al++){ag=V[al];ak.push(new o(ae(ag.x),0))}return ak})();U=ab*(this.options.area_width+this.options.bar_margin);this.draw_background(ah[0],U);W=U+this.options.area_width/2;this.draw_line(ah[1],new o(ah[0].x,W));this.draw_average(ah[2],W);X.push(new u(this.r,0,U+this.options.area_width/2,H.label,"",this.size=14,this.options.font_family).draw())}return X};return S})(K);J.BulletChart=p;var O,Q={}.hasOwnProperty,j=function(U,S){for(var R in S){if(Q.call(S,R)){U[R]=S[R]}}function T(){this.constructor=U}T.prototype=S.prototype;U.prototype=new T();U.__super__=S.prototype;return U};O=(function(S){j(R,S);function R(U,T){if(T==null){T={}}R.__super__.constructor.call(this,U,new F(T));this.effective_height=this.height-this.options.y_padding;this.bar_options=[];
this.bars=[];this.values=[]}R.prototype.add=function(U){var T,V;T=U.label,V=U.value;this.bar_options.push(F.merge(this.options,U.options));this.values.push(V);return this.bars.push({label:T,value:V})};R.prototype.render_bar=function(V,X,W,T){var U;U=this.r.rect(W.x,W.y,this.options.bar_width,this.effective_height-W.y,this.options.rounding);U.attr({fill:T.bar_color,stroke:"none"});new u(this.r,W.x+this.options.bar_width/2,this.height-(this.options.x_label_size+5),V,"",this.options.x_label_size,this.options.font_family,this.options.x_label_color).draw();return new u(this.r,W.x+this.options.bar_width/2,W.y-this.options.y_label_size-5,X,"",this.options.y_label_size,this.options.font_family,this.options.y_label_color).draw()};R.prototype.clear=function(){R.__super__.clear.call(this);this.bars=[];return this.values=[]};R.prototype.draw=function(){var ah,ag,aj,ai,ac,ab,af,Y,W,ak,ad,Z,V,U,al,aa,X,T,ae=this;af=(function(){var ap,an,ao,am;ao=this.values;am=[];for(ag=ap=0,an=ao.length;ap<an;ag=++ap){ad=ao[ag];am.push(new o(ag,ad))}return am}).call(this);af.push(new o(0,0));aa=N.get_ranges_for_points(af),aj=aa[0],ac=aa[1],ai=aa[2],ab=aa[3];V=new L().domain([ab,ai]).range([this.options.y_padding,this.height-this.options.y_padding]);
Z=function(am){return ae.height-V(am)};X=this.bars;T=[];for(ag=U=0,al=X.length;U<al;ag=++U){ah=X[ag];Y=ag*(this.options.bar_width+this.options.bar_spacing)+this.options.x_padding;W=Z(af[ag].y);ak=new o(Y,W);T.push(this.render_bar(ah.label,ah.value,ak,this.bar_options[ag]))}return T};return R})(K);J.BarChart=O});