(function(){var a=function(h,g,f){if(typeof(f)=="string"){f=g.path(f).attr({stroke:"none"})}for(var c=0;c<h.length;c++){var e=h[c];var d=f.getPointAtLength(e.getBBox().x);var b=e.transform()+"T"+(d.x-e.getBBox().x)+","+(d.y-e.getBBox().y-e.getBBox().height);b+="R"+(d.alpha<360?180+d.alpha:d.alpha);e.transform(b)}h._rm_topathPath=f};Raphael.fn.printLetters=function(l,j,h,e,o,d,n,g){d=d||o/1.5;n=n||o;this.setStart();var b=l,k=j;for(var f=0;f<h.length;f++){if(h.charAt(f)!="\n"){var c=this.print(b,k,h.charAt(f),e,o);b+=d}else{b=l;k+=n}}var m=this.setFinish();if(g){a(m,this,g)}return m}})();(function(){Raphael.st._elEquals=function(b,a){return b==a};Raphael.st.contains=function(b){for(var a=0;a<this.length;a++){if(Raphael.st._elEquals(this[a],b)){return true}}return false};Raphael.st.containsAll=function(a){};Raphael.st.intersect=function(a){if(!a){return[]}var b=this.paper.set();for(var c=0;c<this.length;c++){if(a.contains(this[c])){b.push(this[c])}}return b};Raphael.st.add=function(a){if(!a){return this}for(var b=0;b<a.length;b++){if(!this.contains(a[b])){this.push(a[b])}}return this};Raphael.st.substract=function(a){if(!a){return this}for(var b=0;b<a.length;b++){if(this.contains(a[b])){this.exclude(a[b])}}return this};Raphael.st.filter=function(a){var b=this;this.forEach(function(e,d){var c=a(e,d);c=typeof(c)=="object"?(c+"")=="true":c;if(c){b.exclude(e)}return true});return b};Raphael.el.firstShape=function(){return this};Raphael.st.firstShape=function(){var a=null;this.forEach(function(c,b){if(c.type!="set"){a=c;return false}else{a=c.firstShape();if(a==null){return true}else{return false}}});return a};Raphael.st.item=function(b){var c=0;var a=null;this.forEach(function(d){if(c==b){a=d;return false}c++;return true});return a};Raphael.el.print=function(){return this.type?this.type:"undef"};Raphael.st.print=function(){var a="Set(";this.forEach(function(b){a+=b.print()+", "});return a+")"}})();(function(){Raphael.el.isRemoved=function(){return this.node.parentNode==null};Raphael.st.isRemoved=function(){return true}})();(function(){var a=function(d,b){if(d.type=="set"){var c=d;d.forEach(function(f){a(f,b)});return}else{var e=d.attr();e.type=d.type;b.push(e)}};Raphael.el.writeToObject=function(){var b=[];a(this,b);return b};Raphael.el.writeToString=function(){var b=this.writeToObject();var h=[];for(var e=0;e<b.length;e++){var g=b[e],d=[];d.push('"type":"'+g.type+'"');for(var c in g){val=(g[c]+"").replace(/\"/g,'\\"');d.push('"'+c+'":"'+val+'"')}var f="{"+d.join(",")+"}";if(e<b.length-1){f+=","}h.push(f)}return h.join(",")};Raphael.st.writeToObject=function(){var b=[];this.forEach(function(c){b=b.concat(c.writeToObject())});return b};Raphael.st.writeToString=function(){var b=[];this.forEach(function(c){b=b.concat(c.writeToString())});return"["+b.join(",")+"]"};Raphael.fn.writeToObject=function(){var b=[];this.forEach(function(c){b=b.concat(c.writeToObject())});return b};Raphael.fn.writeToString=function(){var b=[];this.forEach(function(c){b=b.concat(c.writeToString())});return"["+b.join(",")+"]"}})();(function(){if(Raphael.vml){var a=/ progid:\S+Blur\([^\)]+\)/g;Raphael.el.blur=function(c){var d=this.node.style,e=d.filter;e=e.replace(a,"");if(c!="none"&&c!=0&&c!="0"){d.filter=e+" progid:DXImageTransform.Microsoft.Blur(pixelradius="+(+c||1.5)+")";d.margin=Raphael.format("-{0}px 0 0 -{0}px",Math.round(+c||1.5))}else{d.filter=e;d.margin=0}}}else{var b=function(e,c){if(c){for(var d in c){if(c.hasOwnProperty(d)){e.setAttribute(d,c[d])}}}else{return document.createElementNS("http://www.w3.org/2000/svg",e)}};Raphael.el.blur=function(c){if(c!="none"&&c!=0&&c!="0"){var d=b("filter"),e=b("feGaussianBlur");d.id="r"+(Raphael.idGenerator++).toString(36);b(e,{stdDeviation:+c||1.5});d.appendChild(e);this.paper.defs.appendChild(d);this._blur=d;b(this.node,{filter:"url(#"+d.id+")"})}else{if(this._blur){this._blur.parentNode.removeChild(this._blur);delete this._blur}this.node.removeAttribute("filter")}};Raphael.st.blur=function(d){for(var c=0;c<this.items.length;c++){this.items[c].blur(d)}}}})();(function(){if(Raphael.vml){var a=/ progid:\S+Emboss\([^\)]+\)/g;Raphael.el.emboss=function(b){var c=this.node.style,d=c.filter;d=d.replace(a,"");if(b!="none"){c.filter=d+" progid:DXImageTransform.Microsoft.Emboss(bias="+(b||0)+")"}else{c.filter=d}}}else{Raphael.el.emboss=function(b){if(!b||b=="0"){return this.convolveClear(Raphael.el.emboss.EMBOSS_TRANS_NAME)}else{var c=b;var d=[c*-1,0,0,0,1,0,0,0,c];return this.convolve(Raphael.el.emboss.EMBOSS_TRANS_NAME,3,d,1,b,null)}};Raphael.st.emboss=function(b){for(var c=0;c<this.items.length;c++){this.items[c].emboss(b)}};Raphael.el.emboss.EMBOSS_TRANS_NAME="embossTransformation"}})();(function(){if(Raphael.vml){Raphael.el.convolve=function(e,c,g,f,b,d){return this};Raphael.el.convolveClear=function(b){return this}}else{var a=function(d,b){if(b){for(var c in b){if(b.hasOwnProperty(c)){d.setAttribute(c,b[c])}}}else{return document.createElementNS("http://www.w3.org/2000/svg",d)}};Raphael.el.convolve=function(g,e,i,h,d,f){var b={order:e+"",kernelMatrix:i.join(" ")};if(h){b.divisor=h}if(d){b.bias=d}if(f){b.preserveAlpha=f}else{b.preserveAlpha="true"}if(this.mainFilter==null){this.mainFilter=a("filter");this.mainFilter.id="convolutionMainFilter";this.paper.defs.appendChild(this.mainFilter);a(this.node,{filter:"url(#convolutionMainFilter)"})}var c=this._convolutions==null?null:this._convolutions[g];if(c==null){c=a("feConvolveMatrix")}this.mainFilter.appendChild(c);a(c,b);if(!this._convolutions){this._convolutions={}}this._convolutions[g]=c;return this};Raphael.st.convolve=function(f,d,h,g,b,e){for(var c=0;c<this.items.length;c++){this.items[c].convolve(f,d,h,g,b,e)}};Raphael.el.convolveClear=function(c){if(this._convolutions!=null&&this._convolutions[c]!=null&&this.mainFilter!=null){try{this.mainFilter.removeChild(this._convolutions[c]);this._convolutions[c]=null}catch(b){alert("error removing filter for conv named : "+c)}}return this};Raphael.st.convolveClear=function(c){for(var b=0;b<this.items.length;b++){this.items[b].convolveClear(c)}};Raphael.el.convolveClearAll=function(){if(this.mainFilter!=null){this.paper.defs.removeChild(this.mainFilter);this.mainFilter=null;this._convolutions=null;this.node.removeAttribute("filter")}};Raphael.st.convolveClearAll=function(){for(var b=0;b<this.items.length;b++){this.items[b].convolveClearAll()}}}})();(function(){Raphael.el.emboss2=function(d,c,e,b){e=e||1;b=b||100;var a=null;if(c=="north"){a=[-d,0,0,0,1,0,0,0,d]}else{if(c=="north-east"){a=[0,0,d,0,1,0,-d,0,0]}else{if(c=="east"){a=[0,0,0,-d,1,d,0,0,0]}else{if(c=="south-east"){a=[-d,0,0,0,1,0,0,0,d]}else{if(c=="south"){a=[0,-d,0,0,1,0,0,d,0]}else{if(c=="south-west"){a=[0,0,-d,0,1,0,d,0,0]}else{if(c=="west"){a=[0,0,0,d,1,-d,0,0,0]}else{if(c=="north-west"){a=[d,0,0,0,1,0,0,0,-d]}}}}}}}}if(a){this.convolve("prewittCompassGradient1",3,a,e,b)}return this}})();(function(){var a=function(e,g,b){var f=[];for(var d=0;d<g;d++){for(var c=0;c<g;c++){f[d*g+c]=e[d*g+c]*b}}return f};Raphael.el.sobel=function(c,e,d,b){d=d||1;b=b||1;if(c==1){this.convolve("sobel1",3,a([-1,0,+1,-2,0,+2,-1,0,+1],3,e),d,b);this.convolve("sobel2",3,a([+1,+2,+1,0,0,0,-1,-2,-1],3,e),d,b)}else{if(c==2){this.convolve("sobel1",4,a([-1,0,0,1,-2,0,0,2,-2,0,0,2,-1,0,0,1],4,e),d,b);this.convolve("sobel2",4,a([+1,+2,+2,+1,0,0,0,0,0,0,0,0,0,0,0,0,-1,-2,-2,-1],4,e),d,b)}else{if(c==3){this.convolve("sobel1",5,a([-1,0,0,0,1,-2,0,0,0,2,-3,0,0,0,3,-2,0,0,0,2,-1,0,0,0,1],5,e),d,b);this.convolve("sobel2",5,a([+1,+2,+3,+2,+1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-2,-3,-2,-1],5,e),d,b)}else{if(c==4){this.convolve("sobel1",6,a([-1,0,0,0,0,1,-2,0,0,0,0,2,-3,0,0,0,0,3,-3,0,0,0,0,3,-2,0,0,0,0,2,-1,0,0,0,0,1],6,e),d,b);this.convolve("sobel2",6,a([+1,+2,+3,+3,+2,+1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-2,-3,-3,-2,-1],6,e),d,b)}else{if(c==5){this.convolve("sobel1",7,a([-1,0,0,0,0,0,1,-2,0,0,0,0,0,2,-3,0,0,0,0,0,3,-4,0,0,0,0,0,4,-3,0,0,0,0,0,3,-2,0,0,0,0,0,2,-1,0,0,0,0,0,1],7,e),d,b);this.convolve("sobel2",7,a([+1,+2,+3,+4,+3,+2,+1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-2,-3,-4,-3,-2,-1],7,e),d,b)}}}}}return this}})();(function(){if(Raphael.vml){}else{var a=function(d,b){if(b){for(var c in b){if(b.hasOwnProperty(c)){d.setAttribute(c,b[c])}}}else{return document.createElementNS("http://www.w3.org/2000/svg",d)}};Raphael.el.colorMatrix=function(d,b){var e={type:"matrix",values:b.join(" ")};if(this.colorMainFilter==null){this.colorMainFilter=a("filter");this.colorMainFilter.id="colorMainFilter";this.paper.defs.appendChild(this.colorMainFilter);a(this.node,{filter:"url(#colorMainFilter)"})}var c=this._colorFilters==null?null:this._colorFilters[d];if(c==null){c=a("feColorMatrix")}this.colorMainFilter.appendChild(c);a(c,e);if(!this._colorFilters){this._colorFilters={}}this._colorFilters[d]=c;return this};Raphael.st.colorMatrix=function(d,b){for(var c=0;c<this.items.length;c++){this.items[c].colorMatrix(d,b)}};Raphael.el.colorMatrixClear=function(b){if(this._colorFilters!=null&&this._colorFilters[b]!=null&&this.colorMainFilter!=null){try{this.colorMainFilter.removeChild(this._colorFilters[b]);this._colorFilters[b]=null}catch(c){alert("error removing filter for color matrix named : "+b)}}return this};Raphael.el.colorMatrixClearAll=function(){if(this.colorMainFilter!=null){this.paper.defs.removeChild(this.colorMainFilter);this.colorMainFilter=null;this._colorFilters=null;this.node.removeAttribute("filter")}}}})();(function(){if(Raphael.vml){}else{var a=function(d,b){if(b){for(var c in b){if(b.hasOwnProperty(c)){d.setAttribute(c,b[c])}}}else{return document.createElementNS("http://www.w3.org/2000/svg",d)}};Raphael.el.componentTransferLinear=function(e,d){if(this.componentTransfersMainFilter==null){alert("***componentTransfersMainFilter created");this.componentTransfersMainFilter=a("filter");this.componentTransfersMainFilter.id="componentTransfersMainFilter";this.paper.defs.appendChild(this.componentTransfersMainFilter);a(this.node,{filter:"url(#componentTransfersMainFilter)"})}var g=this._componentTransfers==null?null:this._componentTransfers[e],c=null,b=null,f=null;if(g==null){g=a("feComponentTransfer");c=a("feFuncR");b=a("feFuncG");f=a("feFuncB");g.appendChild(c);g.appendChild(b);g.appendChild(f)}else{c=g.childNodes[0];b=g.childNodes[1];f=g.childNodes[2]}a(c,d.funcR);c.setAttribute("type","linear");a(b,d.funcG);b.setAttribute("type","linear");a(f,d.funcB);f.setAttribute("type","linear");this.componentTransfersMainFilter.appendChild(g);if(!this._componentTransfers){this._componentTransfers={}}this._componentTransfers[e]=g;return this};Raphael.st.componentTransferLinear=function(d,b){for(var c=0;c<this.items.length;c++){this.items[c].componentTransferLinear(d,b)}};Raphael.el.componentTransferClear=function(b){if(this._componentTransfers!=null&&this._componentTransfers[b]!=null&&this.componentTransfersMainFilter!=null){try{this.componentTransfersMainFilter.removeChild(this._componentTransfers[b]);this._componentTransfers[b]=null}catch(c){alert("error removing filter for conv named : "+b)}}return this};Raphael.el.componentTransferClearAll=function(){if(this.componentTransfersMainFilter!=null){this.paper.defs.removeChild(this.componentTransfersMainFilter);this.componentTransfersMainFilter=null;this._componentTransfers=null;this.node.removeAttribute("filter")}}}})();(function(){if(Raphael.vml){}else{var a=function(d,b){if(b){for(var c in b){if(b.hasOwnProperty(c)){d.setAttribute(c,b[c])}}}else{return document.createElementNS("http://www.w3.org/2000/svg",d)}};Raphael.el.morphology=function(e,d,b){var f={operator:d,radius:b};if(this.morphologyMainFilter==null){this.morphologyMainFilter=a("filter");this.morphologyMainFilter.id="morphologyMainFilter";this.paper.defs.appendChild(this.morphologyMainFilter);a(this.node,{filter:"url(#morphologyMainFilter)"})}var c=this._morphologyFilters==null?null:this._morphologyFilters[e];if(c==null){c=a("feMorphology")}this.morphologyMainFilter.appendChild(c);a(c,f);if(!this._morphologyFilters){this._morphologyFilters={}}this._morphologyFilters[e]=c;return this};Raphael.el.morphologyClear=function(b){if(this._morphologyFilters!=null&&this._morphologyFilters[b]!=null&&this.morphologyMainFilter!=null){try{this.morphologyMainFilter.removeChild(this._morphologyFilters[b]);this._morphologyFilters[b]=null}catch(c){alert("error removing filter for morphology named : "+b)}}return this};Raphael.el.morphologyClearAll=function(){if(this.morphologyMainFilter!=null){this.paper.defs.removeChild(this.morphologyMainFilter);this.morphologyMainFilter=null;this._morphologyFilters=null;this.node.removeAttribute("filter")}};Raphael.st.morphology=function(e,c,b){for(var d=0;d<this.items.length;d++){this.items[d].morphology(e,c,b)}}}})();