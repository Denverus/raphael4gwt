/*! raphael4gwt 2013-08-26 */
!function(){Raphael._sg_typesutils={},Raphael._sg_typesutils.isArray=function(a){return a instanceof Array?!0:"object"!=typeof a?!1:"array"===Raphael._sg_typesutils.type(a)?!0:!1},Raphael._sg_typesutils.type=function(a){return null===a||"undefined"==typeof a?String(a):Object.prototype.toString.call(a).replace(/\[object ([a-zA-Z]+)\]/,"$1").toLowerCase()};var a=Object.prototype.toString,b=String.prototype.toLowerCase,c={NaN:1,Infinity:1,"-Infinity":1},d="hasOwnProperty";Raphael.is=function(e,f){return f=b.call(f),"finite"==f?!c[d](+e):"array"==f?Raphael._sg_typesutils.isArray(e):"null"==f&&null===e||f==typeof e&&null!==e||"object"==f&&e===Object(e)||"array"==f&&Array.isArray&&Array.isArray(e)||a.call(e).slice(8,-1).toLowerCase()==f}}(),function(){var a=function(a,b,c){"string"==typeof c&&(c=b.path(c).attr({stroke:"none"}));for(var d=0;d<a.length;d++){var e=a[d],f=c.getPointAtLength(e.getBBox().x),g=e.transform()+"T"+(f.x-e.getBBox().x)+","+(f.y-e.getBBox().y-e.getBBox().height);g+="R"+(f.alpha<360?180+f.alpha:f.alpha),e.transform(g)}a._rm_topathPath=c};Raphael.fn.printLetters=function(b,c,d,e,f,g,h,i){g=g||f/1.5,h=h||f,this.setStart();for(var j=b,k=c,l=0;l<d.length;l++)"\n"!=d.charAt(l)?(this.print(j,k,d.charAt(l),e,f),j+=g):(j=b,k+=h);var m=this.setFinish();return i&&a(m,this,i),m}}(),function(){Raphael.st._elEquals=function(a,b){return a==b},Raphael.st.contains=function(a){for(var b=0;b<this.length;b++)if(Raphael.st._elEquals(this[b],a))return!0;return!1},Raphael.st.containsAll=function(){},Raphael.st.intersect=function(a){if(!a)return[];for(var b=this.paper.set(),c=0;c<this.length;c++)a.contains(this[c])&&b.push(this[c]);return b},Raphael.st.add=function(a){if(!a)return this;for(var b=0;b<a.length;b++)this.contains(a[b])||this.push(a[b]);return this},Raphael.st.size=function(){var a=0;return this.forEach(function(){return a++,!0}),a},Raphael.st.substract=function(a){if(!a)return this;for(var b=0;b<a.length;b++)this.contains(a[b])&&this.exclude(a[b]);return this},Raphael.st.filter=function(a){var b=this;return this.forEach(function(c,d){var e=a(c,d);return e="object"==typeof e?"true"==e+"":e,e&&b.exclude(c),!0}),b},Raphael.el.firstShape=function(){return this},Raphael.st.firstShape=function(){var a=null;return this.forEach(function(b){return"set"!=b.type?(a=b,!1):(a=b.firstShape(),null==a?!0:!1)}),a},Raphael.st.item=function(a){var b=0,c=null;return this.forEach(function(d){return b==a?(c=d,!1):(b++,!0)}),c},Raphael.el.print=function(){return this.type?this.type:"undef"},Raphael.st.print=function(){var a="Set(";return this.forEach(function(b){a+=b.print()+", "}),a+")"}}(),function(){Raphael.el.isRemoved=function(){return null==this.node.parentNode},Raphael.st.isRemoved=function(){return!0}}(),function(){var a=function(b,c){if("set"==b.type)return b.forEach(function(b){a(b,c)}),void 0;var d=b.attr();d.type=b.type,c.push(d)};Raphael.el.writeToObject=function(){var b=[];return a(this,b),b},Raphael.el.writeToString=function(){for(var a=this.writeToObject(),b=[],c=0;c<a.length;c++){var d=a[c],e=[];e.push('"type":"'+d.type+'"');for(var f in d)val=(d[f]+"").replace(/\"/g,'\\"'),e.push('"'+f+'":"'+val+'"');var g="{"+e.join(",")+"}";c<a.length-1&&(g+=","),b.push(g)}return b.join(",")},Raphael.st.writeToObject=function(){var a=[];return this.forEach(function(b){a=a.concat(b.writeToObject())}),a},Raphael.st.writeToString=function(){var a=[];return this.forEach(function(b){a=a.concat(b.writeToString())}),"["+a.join(",")+"]"},Raphael.fn.writeToObject=function(){var a=[];return this.forEach(function(b){a=a.concat(b.writeToObject())}),a},Raphael.fn.writeToString=function(){var a=[];return this.forEach(function(b){a=a.concat(b.writeToString())}),"["+a.join(",")+"]"}}(),function(){function a(a){this.paper=a,this.set=a.set(),this.data={}}a.prototype.put=function(a,b){this.set.push(b),this.data[a]=b},a.prototype.putAll=function(a){for(var b in a.data)this.put(b,a.data[b])},a.prototype.get=function(a){return this.data[a]},a.prototype.remove=function(a){var b=this.data[a];return this.set.excludes(b),this.data[a]=null,b},a.prototype.removeAll=function(b){var c=new a(this.paper);for(var d in b.data)c.put(d,this.remove(d));return c},Raphael.fn.namedSet=function(){return new a(this)}}(),function(){if(Raphael.vml){var a=/ progid:\S+Blur\([^\)]+\)/g;Raphael.el.blur=function(b){var c=this.node.style,d=c.filter;d=d.replace(a,""),"none"!=b&&0!=b&&"0"!=b?(c.filter=d+" progid:DXImageTransform.Microsoft.Blur(pixelradius="+(+b||1.5)+")",c.margin=Raphael.format("-{0}px 0 0 -{0}px",Math.round(+b||1.5))):(c.filter=d,c.margin=0)}}else{var b=function(a,b){if(!b)return document.createElementNS("http://www.w3.org/2000/svg",a);for(var c in b)b.hasOwnProperty(c)&&a.setAttribute(c,b[c])};Raphael.el.blur=function(a){if("none"!=a&&0!=a&&"0"!=a){var c=b("filter"),d=b("feGaussianBlur");c.id="r"+(Raphael.idGenerator++).toString(36),b(d,{stdDeviation:+a||1.5}),c.appendChild(d),this.paper.defs.appendChild(c),this._blur=c,b(this.node,{filter:"url(#"+c.id+")"})}else this._blur&&(this._blur.parentNode.removeChild(this._blur),delete this._blur),this.node.removeAttribute("filter")},Raphael.st.blur=function(a){for(var b=0;b<this.items.length;b++)this.items[b].blur(a)}}}(),function(){if(Raphael.vml){var a=/ progid:\S+Emboss\([^\)]+\)/g;Raphael.el.emboss=function(b){var c=this.node.style,d=c.filter;d=d.replace(a,""),c.filter="none"!=b?d+" progid:DXImageTransform.Microsoft.Emboss(bias="+(b||0)+")":d}}else Raphael.el.emboss=function(a){if(a&&"0"!=a){var b=a,c=[-1*b,0,0,0,1,0,0,0,b];return this.convolve(Raphael.el.emboss.EMBOSS_TRANS_NAME,3,c,1,a,null)}return this.convolveClear(Raphael.el.emboss.EMBOSS_TRANS_NAME)},Raphael.st.emboss=function(a){for(var b=0;b<this.items.length;b++)this.items[b].emboss(a)},Raphael.el.emboss.EMBOSS_TRANS_NAME="embossTransformation"}(),function(){if(Raphael.vml)Raphael.el.convolve=function(){return this},Raphael.el.convolveClear=function(){return this};else{var a=function(a,b){if(!b)return document.createElementNS("http://www.w3.org/2000/svg",a);for(var c in b)b.hasOwnProperty(c)&&a.setAttribute(c,b[c])};Raphael.el.convolve=function(b,c,d,e,f,g){var h={order:c+"",kernelMatrix:d.join(" ")};e&&(h.divisor=e),f&&(h.bias=f),h.preserveAlpha=g?g:"true",null==this.mainFilter&&(this.mainFilter=a("filter"),this.mainFilter.id="convolutionMainFilter",this.paper.defs.appendChild(this.mainFilter),a(this.node,{filter:"url(#convolutionMainFilter)"}));var i=null==this._convolutions?null:this._convolutions[b];return null==i&&(i=a("feConvolveMatrix")),this.mainFilter.appendChild(i),a(i,h),this._convolutions||(this._convolutions={}),this._convolutions[b]=i,this},Raphael.st.convolve=function(a,b,c,d,e,f){for(var g=0;g<this.items.length;g++)this.items[g].convolve(a,b,c,d,e,f)},Raphael.el.convolveClear=function(a){if(null!=this._convolutions&&null!=this._convolutions[a]&&null!=this.mainFilter)try{this.mainFilter.removeChild(this._convolutions[a]),this._convolutions[a]=null}catch(b){alert("error removing filter for conv named : "+a)}return this},Raphael.st.convolveClear=function(a){for(var b=0;b<this.items.length;b++)this.items[b].convolveClear(a)},Raphael.el.convolveClearAll=function(){null!=this.mainFilter&&(this.paper.defs.removeChild(this.mainFilter),this.mainFilter=null,this._convolutions=null,this.node.removeAttribute("filter"))},Raphael.st.convolveClearAll=function(){for(var a=0;a<this.items.length;a++)this.items[a].convolveClearAll()}}}(),function(){Raphael.el.emboss2=function(a,b,c,d){c=c||1,d=d||100;var e=null;return"north"==b?e=[-a,0,0,0,1,0,0,0,a]:"north-east"==b?e=[0,0,a,0,1,0,-a,0,0]:"east"==b?e=[0,0,0,-a,1,a,0,0,0]:"south-east"==b?e=[-a,0,0,0,1,0,0,0,a]:"south"==b?e=[0,-a,0,0,1,0,0,a,0]:"south-west"==b?e=[0,0,-a,0,1,0,a,0,0]:"west"==b?e=[0,0,0,a,1,-a,0,0,0]:"north-west"==b&&(e=[a,0,0,0,1,0,0,0,-a]),e&&this.convolve("prewittCompassGradient1",3,e,c,d),this}}(),function(){var a=function(a,b,c){for(var d=[],e=0;b>e;e++)for(var f=0;b>f;f++)d[e*b+f]=a[e*b+f]*c;return d};Raphael.el.sobel=function(b,c,d,e){return d=d||1,e=e||1,1==b?(this.convolve("sobel1",3,a([-1,0,1,-2,0,2,-1,0,1],3,c),d,e),this.convolve("sobel2",3,a([1,2,1,0,0,0,-1,-2,-1],3,c),d,e)):2==b?(this.convolve("sobel1",4,a([-1,0,0,1,-2,0,0,2,-2,0,0,2,-1,0,0,1],4,c),d,e),this.convolve("sobel2",4,a([1,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,-1,-2,-2,-1],4,c),d,e)):3==b?(this.convolve("sobel1",5,a([-1,0,0,0,1,-2,0,0,0,2,-3,0,0,0,3,-2,0,0,0,2,-1,0,0,0,1],5,c),d,e),this.convolve("sobel2",5,a([1,2,3,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-2,-3,-2,-1],5,c),d,e)):4==b?(this.convolve("sobel1",6,a([-1,0,0,0,0,1,-2,0,0,0,0,2,-3,0,0,0,0,3,-3,0,0,0,0,3,-2,0,0,0,0,2,-1,0,0,0,0,1],6,c),d,e),this.convolve("sobel2",6,a([1,2,3,3,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-2,-3,-3,-2,-1],6,c),d,e)):5==b&&(this.convolve("sobel1",7,a([-1,0,0,0,0,0,1,-2,0,0,0,0,0,2,-3,0,0,0,0,0,3,-4,0,0,0,0,0,4,-3,0,0,0,0,0,3,-2,0,0,0,0,0,2,-1,0,0,0,0,0,1],7,c),d,e),this.convolve("sobel2",7,a([1,2,3,4,3,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-2,-3,-4,-3,-2,-1],7,c),d,e)),this}}(),function(){if(Raphael.vml);else{var a=function(a,b){if(!b)return document.createElementNS("http://www.w3.org/2000/svg",a);for(var c in b)b.hasOwnProperty(c)&&a.setAttribute(c,b[c])};Raphael.el.colorMatrix=function(b,c){var d={type:"matrix",values:c.join(" ")};null==this.colorMainFilter&&(this.colorMainFilter=a("filter"),this.colorMainFilter.id="colorMainFilter",this.paper.defs.appendChild(this.colorMainFilter),a(this.node,{filter:"url(#colorMainFilter)"}));var e=null==this._colorFilters?null:this._colorFilters[b];return null==e&&(e=a("feColorMatrix")),this.colorMainFilter.appendChild(e),a(e,d),this._colorFilters||(this._colorFilters={}),this._colorFilters[b]=e,this},Raphael.st.colorMatrix=function(a,b){for(var c=0;c<this.items.length;c++)this.items[c].colorMatrix(a,b)},Raphael.el.colorMatrixClear=function(a){if(null!=this._colorFilters&&null!=this._colorFilters[a]&&null!=this.colorMainFilter)try{this.colorMainFilter.removeChild(this._colorFilters[a]),this._colorFilters[a]=null}catch(b){alert("error removing filter for color matrix named : "+a)}return this},Raphael.el.colorMatrixClearAll=function(){null!=this.colorMainFilter&&(this.paper.defs.removeChild(this.colorMainFilter),this.colorMainFilter=null,this._colorFilters=null,this.node.removeAttribute("filter"))}}}(),function(){if(Raphael.vml)Raphael.el.toGrayScale=function(){this.node.style="progid:DXImageTransform.Microsoft.BasicImage(grayScale=1)"};else{var a=.8;Raphael.el.toGrayScale=function(){this.colorMatrix("color1",[a,a,a,0,0,a,a,a,0,0,a,a,a,0,0,a,a,a,0,0])}}}(),function(){if(Raphael.vml);else{var a=function(a,b){if(!b)return document.createElementNS("http://www.w3.org/2000/svg",a);for(var c in b)b.hasOwnProperty(c)&&a.setAttribute(c,b[c])};Raphael.el.componentTransferLinear=function(b,c){if(null==this.componentTransfersMainFilter){var d="componentTransfersMainFilter_"+this.id+b,e=!1;if(this.paper.defs)for(var f=0;f<this.paper.defs.childNodes.length;f++)if(this.paper.defs.childNodes.item(f).id==d){e=!0;break}e||(this.componentTransfersMainFilter=a("filter"),this.componentTransfersMainFilter.id=d,this.paper.defs.appendChild(this.componentTransfersMainFilter),a(this.node,{filter:"url(#"+d+")"}))}var g=null==this._componentTransfers?null:this._componentTransfers[b],h=null,i=null,j=null;return g?(h=g.childNodes[0],i=g.childNodes[1],j=g.childNodes[2]):(this._componentTransfers||(this._componentTransfers={}),g=a("feComponentTransfer"),this._componentTransfers[b]=g,h=a("feFuncR"),i=a("feFuncG"),j=a("feFuncB"),g.appendChild(h),g.appendChild(i),g.appendChild(j)),a(h,c.funcR),h.setAttribute("type","linear"),a(i,c.funcG),i.setAttribute("type","linear"),a(j,c.funcB),j.setAttribute("type","linear"),this.componentTransfersMainFilter.appendChild(g),this},Raphael.el.componentTransferLinearClear=function(a){if(null!=this._componentTransfers&&null!=this._componentTransfers[a]&&null!=this.componentTransfersMainFilter)try{this.componentTransfersMainFilter.removeChild(this._componentTransfers[a]),this._componentTransfers[a]=null}catch(b){alert("error removing filter for conv named : "+a)}return this},Raphael.el.componentTransferLinearClearAll=function(){null!=this.componentTransfersMainFilter&&(this.paper.defs.removeChild(this.componentTransfersMainFilter),this.componentTransfersMainFilter=null,this._componentTransfers=null,this.node.removeAttribute("filter"))}}}(),function(){if(Raphael.vml);else{var a=function(a,b){if(!b)return document.createElementNS("http://www.w3.org/2000/svg",a);for(var c in b)b.hasOwnProperty(c)&&a.setAttribute(c,b[c])};Raphael.el.morphology=function(b,c,d){var e={operator:c,radius:d};null==this.morphologyMainFilter&&(this.morphologyMainFilter=a("filter"),this.morphologyMainFilter.id="morphologyMainFilter",this.paper.defs.appendChild(this.morphologyMainFilter),a(this.node,{filter:"url(#morphologyMainFilter)"}));var f=null==this._morphologyFilters?null:this._morphologyFilters[b];return null==f&&(f=a("feMorphology")),this.morphologyMainFilter.appendChild(f),a(f,e),this._morphologyFilters||(this._morphologyFilters={}),this._morphologyFilters[b]=f,this},Raphael.el.morphologyClear=function(a){if(null!=this._morphologyFilters&&null!=this._morphologyFilters[a]&&null!=this.morphologyMainFilter)try{this.morphologyMainFilter.removeChild(this._morphologyFilters[a]),this._morphologyFilters[a]=null}catch(b){alert("error removing filter for morphology named : "+a)}return this},Raphael.el.morphologyClearAll=function(){null!=this.morphologyMainFilter&&(this.paper.defs.removeChild(this.morphologyMainFilter),this.morphologyMainFilter=null,this._morphologyFilters=null,this.node.removeAttribute("filter"))},Raphael.st.morphology=function(a,b,c){for(var d=0;d<this.items.length;d++)this.items[d].morphology(a,b,c)}}}(),function(){String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}),Raphael.fn.selectByType=function(a,b){var c={},d=null;if(b)for(var e=0;e<b.length;e++)d=b[e],d.type!=a||c[d.id]||(c[d.id]=d);else for(d=this.bottom;null!=d;)d.type!=a||c[d.id]||(c[d.id]=d),d=d.next;return c},Raphael.fn.selectByDataEquals=function(a,b){for(var c=this.bottom,d={};null!=c;)c.data(a)==b&&(d[c.id]=c),c=c.next;return d},Raphael.fn.selectShapes=function(a,b){for(var c=a.split(","),d={},e=0;e<c.length;e++){var f=c[e].trim(),g={};if(f&&0!=f.length){var h=f.substring(0,1);if("["==h){var i=f.substring(f.length-1,f.length);if("]"!=i)continue;var j=f.substring(1,f.length-1).split("=");if(2!=j.length)continue;var k=j[0],l=j[1];g=this.selectByDataEquals(k,l,b)}else if("."==h){var m=f.substring(1,f.length);g=this.selectByDataEquals("class",m,b)}else g=this.selectByType(f,b);for(var n in g)d[n]||(d[n]=g[n])}}return d},Raphael.fn.styleAdd=function(a,b,c){this._css_styles||(this._css_styles={});var d=_parseCSS(b);this._css_styles[a]=d,c&&this.styleApply(a)},Raphael.fn.styleGet=function(a){var b=this._css_styles[a];return b},Raphael.fn.styleGetAll=function(){return this._css_styles},Raphael.fn.styleApply=function(a,b){if(this._css_styles)for(var c=this._css_styles[a],d=0;d<c.length;d++){var e=c[d][0],f=c[d][1],b=this.selectShapes(e,b);for(var g in b)b[g].attr(f)}},_parseCSS=function(a){var b=[];a=_removeComments(a);var c=a.split("}");c.pop();for(var d=c.length,e=0;d>e;e++){var f=c[e].split("{"),g=(f[0]+"").trim(),h=_parseCSSBlock(f[1]);b.push([g,h])}return b},_parseCSSBlock=function(a){for(var b={},c=a.split(";"),d=c.length,e=0;d>e;e++){var f=c[e].indexOf(":");if(-1!=f){var g=c[e].substring(0,f).trim(),h=c[e].substring(f+1).trim();""!=g&&""!=h&&(b[g]=h)}}return b},_removeComments=function(a){return a.replace(/\/\*(\r|\n|.)*\*\//g,"")}}(),function(a){function b(a){if("number"==typeof a)return a.toString();var b={"&":"amp","<":"lt",">":"gt",'"':"quot","'":"apos"};for(var c in b)a=a.replace(new RegExp(c,"g"),"&"+b[c]+";");return a}function c(a,b){var c=new Array;for(var d in a)if(a.hasOwnProperty(d)){var e=b.call(this,a[d],d);null!==e&&c.push(e)}return c}function d(a,b,c){for(var d in a)a.hasOwnProperty(d)&&(c=b.call(this,c,a[d],d));return c}function e(a,d,e,f){return("undefined"==typeof f||null===f)&&(f=""),"object"==typeof d&&(d=c(d,function(a,c){return"transform"!==c?c+'="'+b(a)+'"':void 0}).join(" ")),"<"+a+(e?' transform="matrix('+e.toString().replace(/^matrix\(|\)$/g,"")+')" ':" ")+d+">"+f+"</"+a+">"}function f(a){return{font:{family:a.attrs.font.replace(/^.*?"(\w+)".*$/,"$1"),size:"undefined"==typeof a.attrs["font-size"]?null:a.attrs["font-size"]}}}function g(a){return"font: normal normal normal 10px/normal "+a.font.family+(null===a.font.size?"":"; font-size: "+a.font.size+"px")}function h(a,b,c){return null===a&&(a=10),3.5*4.5*a/13*(b-.2-c/2)}var j={text:function(a){style=f(a);var i=new Array;return c(a.attrs.text.split("\n"),function(c,f,j){j=j||0,i.push(e("text",d(a.attrs,function(a,c,d){return"text"!==d&&"w"!==d&&"h"!==d&&("font-size"===d&&(c+="px"),a[d]=b(c.toString())),a},{style:"text-anchor: middle; "+g(style)+";"}),a.matrix,e("tspan",{dy:h(style.font.size,j+1,a.attrs.text.split("\n").length)},null,c)))}),i},path:function(a){return 1===a.matrix.a&&1===a.matrix.d?{}:{transform:a.matrix.toString()},e("path",d(a.attrs,function(a,b,c){return"path"===c&&(c="d"),a[c]=b.toString(),a},{}),a.matrix)}};a.fn.toSVG=function(){var c=this,d={svg:a.svg,vml:a.vml},e='<svg style="overflow: hidden; position: relative;" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="'+c.width+'" version="1.1" height="'+c.height+'">';a.svg=!0,a.vml=!1;for(var f=c.bottom;null!=f;f=f.next)if("none"!==f.node.style.display){var g="";if("function"!=typeof j[f.type]){switch(f.type){case"image":g+=' preserveAspectRatio="none"'}for(i in f.attrs){var h=i;switch(i){case"src":h="xlink:href";break;case"transform":h=""}h&&(g+=" "+h+'="'+b(f.attrs[i].toString())+'"')}e+="<"+f.type+' transform="matrix('+f.matrix.toString().replace(/^matrix\(|\)$/g,"")+')"'+g+"></"+f.type+">"}else e+=j[f.type](f)}return e+="</svg>",a.svg=d.svg,a.vml=d.vml,e}}(window.Raphael),Raphael.fn.importSVGStr=function(a){var b=null;return window.DOMParser?(parser=new DOMParser,b=parser.parseFromString(a,"text/xml")):(b=new ActiveXObject("Microsoft.XMLDOM"),b.async=!1,b.loadXML(a)),b?this.importSVG(b):null},Raphael.fn.importSVG=function(svgXML){try{var m_myNewSet=this.set(),strSupportedShapes="|rect|circle|ellipse|path|image|text|polygon|",linGrads=svgXML.getElementsByTagName("linearGradient"),radGrads=svgXML.getElementsByTagName("radialGradient");this.doFill=function(a,b,c,d){if(0==d.indexOf("url")){for(var e,f=d.substring("url(#".length,d.length-1),g=0;g<radGrads.length;g++)if(radGrads.item(g).getAttribute("id")==f){for(var h,i,j=0;j<radGrads.item(g).childNodes.length;j++)"stop"==radGrads.item(g).childNodes.item(j).nodeName&&(h?i=radGrads.item(g).childNodes.item(j):h=radGrads.item(g).childNodes.item(j));if(!h)return;b[c]="path"==a?"90-"+h.getAttribute("stop-color")+"-"+i.getAttribute("stop-color")+":50-"+h.getAttribute("stop-color"):"r("+radGrads.item(g).getAttribute("fx")+","+radGrads.item(g).getAttribute("fx")+")"+h.getAttribute("stop-color")+"-"+i.getAttribute("stop-color"),h.getAttribute("stop-opacity")&&(e=h.getAttribute("stop-opacity"))}for(var g=0;g<linGrads.length;g++)if(linGrads.item(g).getAttribute("id")==f){var k=parseFloat(linGrads.item(g).getAttribute("y2"))-parseFloat(linGrads.item(g).getAttribute("y1")),l=parseFloat(linGrads.item(g).getAttribute("x2"))-parseFloat(linGrads.item(g).getAttribute("x1")),m=Math.atan(k/l);0>l&&(m-=Math.PI),m=parseInt(Raphael.deg(m)+360)%360;for(var h,i,j=0;j<linGrads.item(g).childNodes.length;j++)"stop"==linGrads.item(g).childNodes.item(j).nodeName&&(h?i=linGrads.item(g).childNodes.item(j):h=linGrads.item(g).childNodes.item(j));if(!h)return;b[c]=m+"-"+h.getAttribute("stop-color")+"-"+i.getAttribute("stop-color")+":50-"+h.getAttribute("stop-color"),h.getAttribute("stop-opacity")&&(e=h.getAttribute("stop-opacity"))}e&&(b.opacity=e)}else b[c]=d},this.parseElement=function(elShape,myNewSet){var node=elShape.nodeName;if("g"==node){for(var groupSet=this.set(),o=0;o<elShape.childNodes.length;o++)this.parseElement(elShape.childNodes.item(o),groupSet);for(var k=0;k<elShape.attributes.length;k++){var m=elShape.attributes[k];if("transform"==m.nodeName&&groupSet.transform)for(var actions=m.nodeValue.split(")"),a=0;a<actions.length;a++)0==actions[a].indexOf("matrix")?groupSet.transform("m"+actions[a].substring(actions[a].indexOf("(")+1)):actions[a]&&eval("groupSet."+actions[a]+")");else groupSet.attr(m.nodeName,m.nodeValue)}return myNewSet.push(groupSet),void 0}if(node&&strSupportedShapes.indexOf("|"+node+"|")>=0){var attr={"stroke-width":0,fill:"#fff"},shape,style,nodeID=elShape.getAttribute("id");m_font="";for(var k=0;k<elShape.attributes.length;k++){var m=elShape.attributes[k];switch(m.nodeName){case"stroke-dasharray":attr[m.nodeName]="- ";break;case"style":style=m.nodeValue.split(";");for(var l=0;l<style.length;l++)"fill"==style[l].split(":")[0]?this.doFill(node,attr,style[l].split(":")[0],style[l].split(":")[1]):attr[style[l].split(":")[0]]=style[l].split(":")[1];break;case"fill":this.doFill(node,attr,m.nodeName,m.nodeValue);break;case"font-size":m_font=m.nodeValue+"px "+m_font,attr[m.nodeName]=m.nodeValue;break;case"font-family":m_font=m_font+'"'+m.nodeValue+'"';break;case"x":case"y":case"cx":case"cy":case"rx":case"ry":attr[m.nodeName]=parseFloat(m.nodeValue);break;case"text-anchor":break;default:attr[m.nodeName]=m.nodeValue}}switch(node){case"rect":shape=attr.rx?this.rect(attr.x,attr.y,elShape.getAttribute("width"),elShape.getAttribute("height"),attr.rx):this.rect();break;case"circle":shape=this.ellipse(),attr.rx=attr.r,attr.ry=attr.r;break;case"ellipse":shape=this.ellipse();break;case"path":shape=this.path(attr.d);break;case"polygon":var point_string=attr.points.trim(),aryPoints=point_string.split(" "),strNewPoints="M";for(var i in aryPoints)i>0&&(strNewPoints+="L"),strNewPoints+=aryPoints[i];strNewPoints+="Z",shape=this.path(strNewPoints);break;case"image":shape=this.image();break;case"text":shape=this.text(attr.x,attr.y,elShape.text||elShape.textContent),shape.attr("font",m_font),shape.attr("stroke","none"),shape.origFontPt=parseInt(attr["font-size"])}myNewSet.push(shape),shape.attr(attr);for(var k=0;k<elShape.attributes.length;k++){var m=elShape.attributes[k];if("transform"==m.nodeName&&shape.transform)for(var actions=m.nodeValue.split(")"),a=0;a<actions.length;a++)0==actions[a].indexOf("matrix")?shape.transform("m"+actions[a].substring(actions[a].indexOf("(")+1)):actions[a]&&eval("shape."+actions[a]+")")}}};var elShape,m_font,elSVG=svgXML.getElementsByTagName("svg")[0];elSVG.normalize();for(var i=0;i<elSVG.childNodes.length;i++)elShape=elSVG.childNodes.item(i),this.parseElement(elShape,m_myNewSet)}catch(error){alert("The SVG data you entered was invalid! ("+error+")")}return m_myNewSet},function(){var a=function(a){a.paper.customAttributes.translateNT||(a.paper.customAttributes.translateNT=function(a,b){if("circle"==this.type||"ellipse"==this.type)return{cx:this.attr("cx")+a,cy:this.attr("cy")+b};if("rect"==this.type||"text"==this.type||"image"==this.type)return{x:this.attr("x")+a,y:this.attr("y")+b};if("path"==this.type){var c=Raphael.matrix(1,0,0,1,0,0);c.translate(a,b);var d=Raphael.mapPath(this.attr("path"),c);this.attr({path:d})}},a.paper.customAttributes.scaleNT=function(a,b){if("circle"==this.type)return{r:this.attr("r")*Math.max(a,b)};if("ellipse"==this.type)return{rx:this.attr("rx")*a,ry:this.attr("ry")*b};if("rect"==this.type||"image"==this.type)return{width:this.attr("width")*a,height:this.attr("height")*b};if("text"==this.type){var c=parseInt(this.attr("font-size")+"");return{"font-size":c*Math.max(a,b)}}if("path"==this.type){var d=this.getBBox(),e=d.x+d.width/2,f=d.y+d.height/2,g=Raphael.matrix(1,0,0,1,0,0);g.scale(a,b,e,f);var h=Raphael.mapPath(this.attr("path"),g);return{path:h}}})};Raphael.el.nt_translate=function(b,c){if(a(this),"circle"==this.type||"ellipse"==this.type)this.attr({cx:this.attr("cx")+b,cy:this.attr("cy")+c});else if("rect"==this.type||"text"==this.type||"image"==this.type)this.attr({x:this.attr("x")+b,y:this.attr("y")+c});else if("path"==this.type){var d=Raphael.matrix(1,0,0,1,0,0);d.translate(b,c);var e=Raphael.mapPath(this.attr("path"),d);this.attr({path:e})}return this},Raphael.el.nt_scale=function(b,c){if(a(this),"circle"==this.type)this.attr({r:this.attr("r")*Math.max(b,c)});else if("ellipse"==this.type)this.attr({rx:this.attr("rx")*b,ry:this.attr("ry")*c});else if("rect"==this.type||"image"==this.type)this.attr({width:this.attr("width")*b,height:this.attr("height")*c});else if("text"==this.type){var d=parseInt(this.attr("font-size")+"");this.attr({"font-size":d*Math.max(b,c)})}else if("path"==this.type){var e=this.getBBox(),f=e.x+e.width/2,g=e.y+e.height/2,h=Raphael.matrix(1,0,0,1,0,0);h.scale(b,c,f,g);var i=Raphael.mapPath(this.attr("path"),h);this.attr({path:i})}return this},Raphael.st.nt_translate=function(b,c){return a(this),this.forEach(function(a){return a.nt_translate(b,c),!0}),this},Raphael.st.nt_scale=function(b,c){return a(this),this.forEach(function(a){return a.nt_scale(b,c),!0}),this}}(),function(){Raphael.el.installPathEditor=function(c){if(c=c?c:{},this.type&&"path"==this.type&&this.attr("path")){for(var d=Raphael.parsePathString(this.attr("path")),e={pathObject:d,shape:this,commandEditors:c.commandEditors?c.commandEditors:a,dragThrottle:c.dragThrottle?dragThrottle:80},f=this.paper.set(),g=this.paper.set(),h=0;h<d.length;h++){var i=d[h];i.cmdIndex=h,b(e,i)}var j=10;for(var h in e.commandEditors){var k=paper.circle(10,j,5).attr({fill:e.commandEditors[h].bgColor}),l=paper.text(30,j,e.commandEditors[h].description).attr({"text-anchor":"start"});j+=25,g.push(k),g.push(l)}return{editor:f,legend:g}}};var a={L:{bgColor:"#ededed",textColor:"black",name:"L",description:"line to"},M:{bgColor:"#111111",textColor:"white",name:"M",description:"move to"},H:{bgColor:"#ff1111",textColor:"yellow",name:"H",description:"horizontal line to"},V:{bgColor:"#ffff11",textColor:"yellow",name:"V",description:"vertical line to"},C:{bgColor:"#55ee55",textColor:"black",name:"C",description:"curve to"},S:{bgColor:"#1111ff",textColor:"black",name:"S",description:"smooth curve to"},Q:{bgColor:"orange",textColor:"black",name:"Q",description:"quadratic Bézier curve to"},T:{bgColor:"purple",textColor:"black",name:"T",description:"smooth quadratic Bézier curve to"},R:{bgColor:"brown",textColor:"black",name:"R",description:"Catmull-Rom curve to"}},b=function(a,b){if(b&&!(b.length<1)){var l=null;if("L"==b[0]&&3==b.length)l=c(a,b);else if("M"==b[0]&&3==b.length)l=e(a,b);else if("H"==b[0]&&2==b.length)l=f(a,b);else if("V"==b[0]&&2==b.length)l=g(a,b);else if("C"==b[0]&&7==b.length)l=h(a,b);else if("S"==b[0]&&5==b.length)l=i(a,b);else if("Q"==b[0]&&5==b.length)l=k(a,b);else if("T"==b[0]&&3==b.length)l=d(a,b);else if("R"==b[0]&&5==b.length)l=j(a,b);else if("Z"!=b[0])throw"Path Command "+b[0]+" not supported";return l}},c=function(a,b){var c=a.shape.paper,d=c.circle(b[1],b[2],5).attr({fill:a.commandEditors.L.bgColor}),e={pathObject:a.pathObject,shape:a.shape,feedback:d,cmd:b};return d.drag(l(a.dragThrottle,function(a,b){var c=this.ox+a,d=this.oy+b;this.cmd[1]=c,this.cmd[2]=d,this.feedback.attr({cx:c,cy:d}),this.shape.attr({path:this.pathObject})}),function(){this.ox=this.feedback.attr("cx"),this.oy=this.feedback.attr("cy")},function(){},e,e,e),d},d=function(a,b){var c=a.shape.paper,d=c.circle(b[1],b[2],5).attr({fill:a.commandEditors.T.bgColor}),e={pathObject:a.pathObject,shape:a.shape,feedback:d,cmd:b};return d.drag(l(a.dragThrottle,function(a,b){var c=this.ox+a,d=this.oy+b;this.cmd[1]=c,this.cmd[2]=d,this.feedback.attr({cx:c,cy:d}),this.shape.attr({path:this.pathObject})}),function(){this.ox=this.feedback.attr("cx"),this.oy=this.feedback.attr("cy")},function(){},e,e,e),d},e=function(a,b){var c=a.shape.paper,d=c.circle(b[1],b[2],5).attr({fill:a.commandEditors.M.bgColor}),e={pathObject:a.pathObject,shape:a.shape,feedback:d,cmd:b};return d.drag(l(a.dragThrottle,function(a,b){var c=this.ox+a,d=this.oy+b;this.cmd[1]=c,this.cmd[2]=d,this.feedback.attr({cx:c,cy:d}),this.shape.attr({path:this.pathObject})}),function(){this.ox=this.feedback.attr("cx"),this.oy=this.feedback.attr("cy")},function(){},e,e,e),d},f=function(a,b){var c=a.shape.paper,d=c.circle(b[1],50,5).attr({fill:a.commandEditors.H.bgColor}),e={pathObject:a.pathObject,shape:a.shape,feedback:d,cmd:b};return d.drag(l(a.dragThrottle,function(a,b){var c=this.ox+a,d=this.oy+b;this.cmd[1]=c,this.feedback.attr({cx:c,cy:d}),this.shape.attr({path:this.pathObject})}),function(){this.ox=this.feedback.attr("cx"),this.oy=this.feedback.attr("cy")},function(){},e,e,e),d},g=function(a,b){var c=a.shape.paper,d=c.circle(50,b[1],5).attr({fill:a.commandEditors.V.bgColor}),e={pathObject:a.pathObject,shape:a.shape,feedback:d,cmd:b};return d.drag(l(a.dragThrottle,function(a,b){var c=this.ox+a,d=this.oy+b;this.cmd[1]=d,this.feedback.attr({cx:c,cy:d}),this.shape.attr({path:this.pathObject})}),function(){this.ox=this.feedback.attr("cx"),this.oy=this.feedback.attr("cy")},function(){},e,e,e),d},h=function(a,b){var c=a.shape.paper,d=c.set(),e=c.circle(b[1],b[2],5).attr({fill:a.commandEditors.C.bgColor}),f={pathObject:a.pathObject,shape:a.shape,feedback:e,cmd:b};e.drag(l(a.dragThrottle,function(a,b){var c=this.ox+a,d=this.oy+b;this.cmd[1]=c,this.cmd[2]=d,this.feedback.attr({cx:c,cy:d}),this.shape.attr({path:this.pathObject})}),function(){this.ox=this.feedback.attr("cx"),this.oy=this.feedback.attr("cy")},function(){},f,f,f),d.push(e);var g=c.circle(b[3],b[4],5).attr({fill:a.commandEditors.C.bgColor}),h={pathObject:a.pathObject,shape:a.shape,feedback:g,cmd:b};g.drag(l(a.dragThrottle,function(a,b){var c=this.ox+a,d=this.oy+b;this.cmd[3]=c,this.cmd[4]=d,this.feedback.attr({cx:c,cy:d}),this.shape.attr({path:this.pathObject})}),function(){this.ox=this.feedback.attr("cx"),this.oy=this.feedback.attr("cy")},function(){},h,h,h),d.push(g);var i=c.circle(b[5],b[6],5).attr({fill:a.commandEditors.C.bgColor}),j={pathObject:a.pathObject,shape:a.shape,feedback:i,cmd:b};return i.drag(l(a.dragThrottle,function(a,b){var c=this.ox+a,d=this.oy+b;this.cmd[5]=c,this.cmd[6]=d,this.feedback.attr({cx:c,cy:d}),this.shape.attr({path:this.pathObject})}),function(){this.ox=this.feedback.attr("cx"),this.oy=this.feedback.attr("cy")},function(){},j,j,j),d.push(i),d},i=function(a,b){var c=a.shape.paper,d=c.set(),e=c.circle(b[1],b[2],5).attr({fill:a.commandEditors.S.bgColor}),f={pathObject:a.pathObject,shape:a.shape,feedback:e,cmd:b};e.drag(l(a.dragThrottle,function(a,b){var c=this.ox+a,d=this.oy+b;this.cmd[1]=c,this.cmd[2]=d,this.feedback.attr({cx:c,cy:d}),this.shape.attr({path:this.pathObject})}),function(){this.ox=this.feedback.attr("cx"),this.oy=this.feedback.attr("cy")},function(){},f,f,f),d.push(e);var g=c.circle(b[3],b[4],5).attr({fill:a.commandEditors.S.bgColor}),h={pathObject:a.pathObject,shape:a.shape,feedback:g,cmd:b};return g.drag(l(a.dragThrottle,function(a,b){var c=this.ox+a,d=this.oy+b;this.cmd[3]=c,this.cmd[4]=d,this.feedback.attr({cx:c,cy:d}),this.shape.attr({path:this.pathObject})}),function(){this.ox=this.feedback.attr("cx"),this.oy=this.feedback.attr("cy")},function(){},h,h,h),d.push(g),d},j=function(a,b){var c=a.shape.paper,d=c.set(),e=c.circle(b[1],b[2],5).attr({fill:a.commandEditors.R.bgColor}),f={pathObject:a.pathObject,shape:a.shape,feedback:e,cmd:b};e.drag(l(a.dragThrottle,function(a,b){var c=this.ox+a,d=this.oy+b;this.cmd[1]=c,this.cmd[2]=d,this.feedback.attr({cx:c,cy:d}),this.shape.attr({path:this.pathObject})}),function(){this.ox=this.feedback.attr("cx"),this.oy=this.feedback.attr("cy")},function(){},f,f,f),d.push(e);var g=c.circle(b[3],b[4],5).attr({fill:a.commandEditors.R.bgColor}),h={pathObject:a.pathObject,shape:a.shape,feedback:g,cmd:b};return g.drag(l(a.dragThrottle,function(a,b){var c=this.ox+a,d=this.oy+b;this.cmd[3]=c,this.cmd[4]=d,this.feedback.attr({cx:c,cy:d}),this.shape.attr({path:this.pathObject})
}),function(){this.ox=this.feedback.attr("cx"),this.oy=this.feedback.attr("cy")},function(){},h,h,h),d.push(g),d},k=function(a,b){var c=a.shape.paper,d=c.set(),e=c.circle(b[1],b[2],5).attr({fill:a.commandEditors.Q.bgColor}),f={pathObject:a.pathObject,shape:a.shape,feedback:e,cmd:b};e.drag(l(a.dragThrottle,function(a,b){var c=this.ox+a,d=this.oy+b;this.cmd[1]=c,this.cmd[2]=d,this.feedback.attr({cx:c,cy:d}),this.shape.attr({path:this.pathObject})}),function(){this.ox=this.feedback.attr("cx"),this.oy=this.feedback.attr("cy")},function(){},f,f,f),d.push(e);var g=c.circle(b[3],b[4],5).attr({fill:a.commandEditors.Q.bgColor}),h={pathObject:a.pathObject,shape:a.shape,feedback:g,cmd:b};return g.drag(l(a.dragThrottle,function(a,b){var c=this.ox+a,d=this.oy+b;this.cmd[3]=c,this.cmd[4]=d,this.feedback.attr({cx:c,cy:d}),this.shape.attr({path:this.pathObject})}),function(){this.ox=this.feedback.attr("cx"),this.oy=this.feedback.attr("cy")},function(){},h,h,h),d.push(g),d},l=function(a,b,c,d){function e(){function e(){g=+new Date,c.apply(i,k)}function h(){f=void 0}var i=this,j=+new Date-g,k=arguments;d&&!f&&e(),f&&clearTimeout(f),void 0===d&&j>a?e():b!==!0&&(f=setTimeout(d?h:e,void 0===d?a-j:a))}var f,g=0;return"boolean"!=typeof b&&(d=c,c=b,b=void 0),e}}();