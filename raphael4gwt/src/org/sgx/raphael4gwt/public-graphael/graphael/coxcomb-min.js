/*! raphael4gwt 2013-08-26 */
!function(){function a(a,b,c,d,e,f,h){var i=e+(f-e)/2,j=b+d*Math.cos(-i*g),k=c+d*Math.sin(-i*g),l=a.text(j,k,h.text).attr({fill:h.fontColor,"font-size":h.fontSize});return i>=90&&270>i&&(i+=180),l.transform("r"+-i+","+j+","+k),l}function b(b,c,d,e,f,h,i){var j=c+e*Math.cos(-f*g),k=c+e*Math.cos(-h*g),l=d+e*Math.sin(-f*g),m=d+e*Math.sin(-h*g),n=b.path(["M",c,d,"L",j,l,"A",e,e,0,+(h-f>180),0,k,m,"z"]).attr(i);return a(b,c,d,e/2,f,h,i),n}function c(b,c,d,e,f,h,i,j){var k=c+e*Math.cos(-h*g),l=d+e*Math.sin(-h*g),m=c+f*Math.cos(-h*g),n=d+f*Math.sin(-h*g),o=c+f*Math.cos(-i*g),p=d+f*Math.sin(-i*g),q=c+e*Math.cos(-i*g),r=d+e*Math.sin(-i*g),s=b.path(["M",k,l,"L",m,n,"A",f,f,0,+(i-h>180),0,o,p,"L",q,r,"A",e,e,0,+(i-h>180),0,k,l,"z"]).attr(j),t=a(b,c,d,(e+f)/2,h,i,j),u=b.set();u.push(s,t);var v=function(){"function"==typeof j.onClick&&(u.toFront(),j.onClick(s,j.text))},w=function(){s.attr({"fill-opacity":.2})},x=function(){s.attr({"fill-opacity":j["fill-opacity"]||1})};return u.mouseover(w).mouseout(x).click(v),u}function d(a,b,c){if(c.colors){if(c.colors.byCategory&&c.colors.byCategory[a])return c.colors.byCategory[a];if(c.colors.bySeries&&c.colors.bySeries[b])return c.colors.bySeries[b]}return f+=1,{color:Raphael.hsb(f,1,1)}}function e(a,e,f,g,h,i){a.set();var j,k,l,m=0,n={};for(k in h.data)if(h.data.hasOwnProperty(k)&&(m+=1,"object"==typeof h.data[k])){n[k]=0;for(l in h.data[k])h.data[k].hasOwnProperty(l)&&(n[k]+=1,(!j||j<h.data[k][l])&&(j=h.data[k][l]))}var o=i&&i.categorySize||.3,p=0,q=g*o,r=360*(1/m);for(k in h.data)if("object"==typeof h.data[k]){b(a,e,f,q,p,p+r,{fill:h.colors.category,"fill-opacity":h.colors.opacity,text:k,fontSize:i.categoryFontSize,fontColor:h.colors.fontColor,stroke:i.stroke,"stroke-width":3});for(l in h.data[k]){var s=q+g*(1-o)*(h.data[k][l]/j),t=r/n[k],u=d(k,l,h);c(a,e,f,q,s,p,p+t,{fill:u.color,stroke:i.stroke,hoverColor:u.hover,fontSize:i.seriesFontSize,fontColor:u.fontColor,text:l,"fill-opacity":u.opacity,"stroke-width":3,onClick:i.onClick}),p+=t}}}var f=0,g=Math.PI/180;Raphael.fn.coxCombChart=function(a,b,c,d,f){return new e(this,a,b,c,d,f)}}();