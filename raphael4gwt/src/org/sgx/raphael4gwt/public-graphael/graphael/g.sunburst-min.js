/*! raphael4gwt 2013-08-26 */
Raphael.fn.sunburst=function(a,b,c,d){function e(a){if(n[a])return n[a];for(var b=d.onLevelWidth||function(a){return this.levelWidths?this.levelWidths[a]:this.levelWidth||50},c=0,e=0;a>=e;e++)c+=b.call(d,e);return n[a]=c,c}function f(a,b,c,d,e,f,g){var h=f-e,i=Math.abs(h)>=360;i&&(f=e+359.99);var j=Math.abs(h)>180,l=Math.PI/180,m=a+d*Math.cos(-e*l),n=b+d*Math.sin(-e*l),o=a+d*Math.cos(-f*l),p=b+d*Math.sin(-f*l),q=a+c*Math.cos(-e*l),r=b+c*Math.sin(-e*l),s=a+c*Math.cos(-f*l),t=b+c*Math.sin(-f*l),u=Math.abs(f+e)/2,v=(d+c)/2,w=a+v*Math.cos(-u*l),x=b+v*Math.sin(-u*l),y=k.path(["M",q,r,"A",c,c,0,+j,0,s,t,i?"M":"L",o,p,"A",d,d,0,+j,1,m,n,"Z"]);return y.middle={x:w,y:x},y.mangle=u,y.ri=c,y.ro=d,y.attr(g)}function g(a,b){var c,d={label:a,value:0,children:[]},e=0;for(var f in b)~~b[f]?(d.value+=b[f],c={label:f,value:b[f],depth:0,children:[]}):(c=g(f,b[f]),d.value+=c.value),e=Math.max(e,c.depth),d.children[d.children.length]=c;return d.depth=e+1,d}function h(a,b){var a=a%(d.colors.length||d.gradients.length);return d.onGradient?{gradient:d.onGradient.call(d,a,b)}:d.gradients?{gradient:d.gradients[a]}:{fill:d.colors?d.colors[a]:Raphael.getColor()}}function i(c,g,j,k,l,m){j=j||0,k=k||c.value,l=l||d.offsetAngle||0,m=m||0;for(var n,o=l,p=c.children,q=0,r=0;r<p.length;r++){n=o,o+=360*(p[r].value/k);var s=0==j?q:m,t=f(a,b,e(j),e(j+1),n,o,h(d.colorizeByLevel?j:s,j)).attr({stroke:d.stroke||"#fff","stroke-width":d.strokewidth||1});t.level=j,t.value=p[r].value,t.label=p[r].label,g.push(t),i(p[r],g,j+1,k,n,s),q++}}function j(c){return{sector:c,cx:a,cy:b,mx:c.middle.x,my:c.middle.y,mangle:c.mangle}}d=d||{};var k=this,l=this.set(),m=this.set(),n=[];Raphael.getColor.reset();var o=g(d.rootLabel,c);return i(o,m),l.hover=function(a,b){b=b||function(){};for(var c=0;c<m.length;c++)!function(c){var d=j(c);c.mouseover(function(){a.call(d)}),c.mouseout(function(){b.call(d)})}(m[c]);return this},l.click=function(a){for(var b=0;b<m.length;b++)!function(b){var c=j(b);b.click(function(){a.call(c)})}(m[b]);return this},l.push(m),l.series=m,l};