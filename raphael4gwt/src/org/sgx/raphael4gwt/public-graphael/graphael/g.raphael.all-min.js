/*! raphael4gwt 2013-08-26 */
function raphalytics(a,b,c,d,e){function f(a,b,c,d,e,f){var g=(c-a)/2,h=(e-c)/2,i=Math.atan((c-a)/Math.abs(d-b)),j=Math.atan((e-c)/Math.abs(d-f));i=d>b?Math.PI-i:i,j=d>f?Math.PI-j:j;var k=Math.PI/2-(i+j)%(2*Math.PI)/2,l=g*Math.sin(k+i),m=g*Math.cos(k+i),n=h*Math.sin(k+j),o=h*Math.cos(k+j);return{x1:c-l,y1:d+m,x2:c+n,y2:d+o}}"object"!=typeof b[0]&&(b=[b]),"object"!=typeof d[0]&&(d=[d]);var g=Math.max.apply(Math,b[0]);for(U=0,V=b.length;V>U;U++)Math.max.apply(Math,b[U])>g&&(g=Math.max.apply(Math,b[U]));var h=e.width||750,i=e.height||150,j=e.leftgutter||10,k=e.bottomgutter||16,l=e.topgutter||14,m=e.rightgutter||10,n=e.normalize||!0,o=e.smooth||!1,p=e.fill||!1,q=e.gridtype||"minimalist",r=e.gridcolor||"#ccc",s=e.gridbordertype||("minimalist"==q?"minimalist":"full"),u=e.gridbordercolor||("minimalist"==q?"#000":"#ccc"),v=e.color||"#2F69BF",w=e.tooltipcolor||"#000",x=e.tooltipbordercolor||"#666",y=e.tooltiptextcolor||"#fff",z=e.labelcolor||"#000",A=e.y_labels_number||2,B=e.y_label_0||!1,C=e.y_labels_position||"inside",D={font:"12px Helvetica, Arial",fill:"#fff"};if(A>g&&(g=A),n&&(g=Math.ceil(4*g/3),g>10)){var E=Math.pow(10,g.toString().length-1);g=Math.ceil(g/E)*E}"outside"==C&&j<8*g.toString().length&&(j=8*g.toString().length);var F=(h-j-m)/(c.length-1),G=(i-k-l)/g;a.drawGridBorder(j,l,h-j-m,i-l-k,s,u),a.drawGrid(j,l,h-j-m,i-l-k,c.length-1,A,q,r),"object"!=typeof v&&(v=[v]);var H,I,J,K,L,M,N=a.set(),O=0,P=0,Q=!1,R=a.set();N.push(a.text(60,12,d[0][0]).attr(D).attr({fill:y})),N.hide(),a.frame=a.raphalytics_popup(100,100,N,"right").attr({fill:w,stroke:x,"stroke-width":2,"fill-opacity":.7}).hide();for(var S=0,T=b.length;T>S;S++){M="undefined"==typeof v[S]?v[v.length-1]:v[S],H=a.path().attr({stroke:M,"stroke-width":4,"stroke-linejoin":"round"}),p&&(I=a.path().attr({stroke:"none",opacity:.3,fill:M})),J=null,K=null;for(var U=0,V=c.length;V>U;U++){var W=Math.round(i-k-G*b[S][U]),X=Math.round(j+F*U);if(U||(J=o?["M",X,W,"C",X,W]:["M",X,W,"L",X,W],p&&(K=o?["M",j,i-k,"L",X,W,"C",X,W]:["M",j,i-k,"L",X,W,"L",X,W])),U&&V-1>U){var Y=Math.round(i-k-G*b[S][U-1]),Z=Math.round(j+F*U),$=Math.round(i-k-G*b[S][U+1]),_=Math.round(j+F*(U+1)),ab=f(Z,Y,X,W,_,$);J=o?J.concat([ab.x1,ab.y1,X,W,ab.x2,ab.y2]):J.concat([X,W]),p&&(K=o?K.concat([ab.x1,ab.y1,X,W,ab.x2,ab.y2]):K.concat([X,W]))}var bb=a.circle(X,W,4).attr({fill:M,stroke:M,"stroke-width":2});if("object"==typeof d[S]&&"undefined"!=typeof d[S][U]&&0!=d[S][U]){R.push(a.rect(X-10,W-10,20,20).attr({stroke:"none",fill:"#fff",opacity:0}));var cb=R[R.length-1];!function(b,c,d,e,f,g){cb.hover(function(){clearTimeout(L);var b="right";c+a.frame.getBBox().width>h&&(b="left");var e=a.raphalytics_popup(c,d,N,b,1),i=Raphael.animation({path:e.path,transform:["t",e.dx,e.dy]},200*Q);O=N[0].transform()[0][1]+e.dx,P=N[0].transform()[0][2]+e.dy,a.frame.show().stop().animate(i),N[0].attr({text:f}).show().stop().animateWith(a.frame,i,{transform:["t",O,P]},200*Q),g.attr("r",6),Q=!0},function(){g.attr("r",4),L=setTimeout(function(){a.frame.hide(),N[0].hide(),Q=!1},1e3)})}(S,X,W,b[S][U],d[S][U],bb)}}J=o?J.concat([X,W,X,W]):J.concat([X,W]),H.attr({path:J}),p&&(K=o?K.concat([X,W,X,W,"L",X,i-k,"z"]):K.concat([X,W,X,i-k,"z"]),I.attr({path:K}))}var db=B?0:1,eb=0,fb="outside"==C?"end":"start";for(U=db;A>=U;U++){eb=Math.round(U*g/A),eb=eb.toString();var gb="outside"==C?j-1:j+1,hb="outside"==C?i-k-U*Math.round((i-l-k)/A):0==U?i-k-U*Math.round((i-l-k)/A)-8:i-k-U*Math.round((i-l-k)/A)+8;a.text(gb,hb,eb).attr(D).attr({fill:"white",stroke:"#fff","stroke-width":2,"text-anchor":fb}).toFront(),a.text(gb,hb,eb).attr(D).attr({fill:z,"text-anchor":fb}).toFront()}for(var U=0,V=c.length;V>U;U++)if(c[U]){var X=Math.round(j+F*U),ib=0==U?"start":U==V-1?"end":"middle";t=a.text(X,i-6,c[U]).attr(D).attr({fill:z,"text-anchor":ib}).toBack()}a.frame.toFront(),N[0].toFront(),R.toFront()}function oc_render(){oc_calc(),oc_draw()}function oc_clone(a){var b=a instanceof Array?[]:{};for(i in a)b[i]=a[i]&&"object"==typeof a[i]?oc_clone(a[i]):a[i];return b}function oc_add2point(a,b){a[0]+=b[0],a[1]+=b[1]}function oc_repeat_str(a,b){for(var c="",d=0;b-1>d;d++)c+=a;return c}function oc_calc(){oc_text_limit(oc_data.root),oc_delete_special_chars(oc_data.root),oc_text_dimensions(oc_data.root),oc_data.root.is_root=!0,oc_boundboxes_dimensions(oc_data.root)}function oc_text_limit(a){if(0!=oc_style.max_text_width&&(a.title=oc_text_limit_obj(a.title),a.subtitle=oc_text_limit_obj(a.subtitle),void 0!==a.children))for(var b=0;b<a.children.length-oc_IE;b++)oc_text_limit(a.children[b])}function oc_text_limit_obj(a){if(void 0==a)return void 0;for(var b=a.split(/[ \n]+/),c=[],d="",e="",f=0;f<b.length-0;f++){var e=d;d+=(0==f?"":" ")+b[f],d.length>oc_style.max_text_width&&(c.push(e),d=b[f])}""!=d&&c.push(d);var g=c.join("\n");return g}function oc_delete_special_chars(a){if(a.title=oc_delete_special_chars_obj(a.title),a.subtitle=oc_delete_special_chars_obj(a.subtitle),void 0!==a.children)for(var b=0;b<a.children.length-oc_IE;b++)oc_delete_special_chars(a.children[b])}function oc_delete_special_chars_obj(a){return void 0===a?void 0:(a=a.replace(/á/g,"a"),a=a.replace(/é/g,"e"),a=a.replace(/í/g,"i"),a=a.replace(/ó/g,"o"),a=a.replace(/ú/g,"u"),a=a.replace(/Á/g,"A"),a=a.replace(/É/g,"E"),a=a.replace(/Í/g,"I"),a=a.replace(/Ó/g,"O"),a=a.replace(/Ú/g,"U"),a=a.replace(/ñ/g,"n"),a=a.replace(/Ñ/g,"N"))}function oc_text_dimensions(a){var b=[0,0],c=[0,0];if(a.title_lines=a.subtitle_lines=0,b=oc_text_dimensions_obj(a.title,oc_style.title_char_size),a.title_lines=b[2],a.title_lines>oc_max_title_lines&&(oc_max_title_lines=a.title_lines),void 0!==a.subtitle&&(c=oc_text_dimensions_obj(a.subtitle,oc_style.subtitle_char_size),a.subtitle_lines=c[2],a.subtitle_lines>oc_max_subtitle_lines&&(oc_max_subtitle_lines=a.subtitle_lines)),b[0]>oc_max_text_width&&(oc_max_text_width=b[0]),oc_style.use_images&&oc_style.images_size[0]>oc_max_text_width&&(oc_max_text_width=oc_style.images_size[0]),c[0]>oc_max_text_width&&(oc_max_text_width=c[0]),b[1]+c[1]>oc_max_text_height&&(oc_max_text_height=b[1]+c[1]),void 0!==a.children)for(var d=0;d<a.children.length-oc_IE;d++)oc_text_dimensions(a.children[d])}function oc_text_dimensions_obj(a,b){var c=0,d=a.split("\n");if(0==d.length)return[0,0];for(var e=0;e<d.length-0;e++)d[e].length>c&&(c=d[e].length);return[c*b[0],(d.length-0)*b[1],d.length-0]}function oc_boundboxes_dimensions(a){void 0===a.type&&(a.type="subordinate"),a.deltacorner=[0,0];var b=0,c=0;if(void 0!==a.children)for(var d=0;d<a.children.length-oc_IE;d++){var e=a.children[d];"staff"==e.type?e.position=0==b++%2?"left":"right":"collateral"==e.type&&(e.position=0==c++%2?"left":"right"),oc_boundboxes_dimensions(e)}a.boundbox=[oc_max_text_width+2*oc_style.inner_padding,oc_max_text_height+2*oc_style.inner_padding],oc_style.use_images&&void 0!==a.image&&(a.boundbox[1]+=1*oc_style.inner_padding+oc_style.images_size[1]);var f=a.boundbox[1];void 0!==a.is_root?(oc_add2point(a.boundbox,[2*oc_style.hline,2*oc_style.vline]),a.deltacenter=[a.boundbox[0]/2,f/2+2*oc_style.vline]):"collateral"==a.type?(oc_add2point(a.boundbox,[2*oc_style.hline,2*oc_style.vline]),a.deltacenter=[a.boundbox[0]/2,f/2+2*oc_style.vline]):"staff"==a.type?(oc_add2point(a.boundbox,[2*oc_style.hline,1*oc_style.vline]),a.deltacenter=[a.boundbox[0]/2,f/2+1*oc_style.vline]):(oc_add2point(a.boundbox,[2*oc_style.hline,2*oc_style.vline]),a.deltacenter=[a.boundbox[0]/2,f/2+2*oc_style.vline]),a.fullbbox=oc_clone(a.boundbox),void 0===a.children&&(a.xoffset=0);var g=a.boundbox[0]/2,h=a.boundbox[0]/2,i=0;if(void 0!==a.children)for(var d=0;d<a.children.length-oc_IE;d++){var e=a.children[d];"collateral"==e.type&&(i++,"left"==e.position?g=e.fullbbox[0]+a.boundbox[0]/2:h=e.fullbbox[0]+a.boundbox[0]/2)}var j=0,k=0,l=0,m=0,n=0,o=0;if(void 0!==a.children)for(var d=0;d<a.children.length-oc_IE;d++){var e=a.children[d];"staff"==e.type&&(o++,"left"==e.position?(j+=e.fullbbox[1],k=e.fullbbox[1],m<e.fullbbox[0]&&(m=e.fullbbox[0])):(k=e.fullbbox[1],e.fullbbox[1]>k&&(j+=e.fullbbox[1]-k),n<e.fullbbox[0]&&(n=e.fullbbox[0])))}var p=0;if(void 0!==a.children)for(var d=0;d<a.children.length-oc_IE;d++){var e=a.children[d];"subordinate"==e.type&&(p+=e.fullbbox[0])}var q=0;g>q&&(q=g),m>q&&(q=m),p/2>q&&(q=p/2);var r=0;if(h>r&&(r=h),n>r&&(r=n),p/2>r&&(r=p/2),a.xoffset=q-a.boundbox[0]/2,void 0!==a.children)for(var d=0;d<a.children.length-oc_IE;d++){var e=a.children[d];"collateral"==e.type&&(e.deltacorner="left"==e.position?[q-a.boundbox[0]/2-e.fullbbox[0],0]:[q+a.boundbox[0]/2,0],oc_update_fullbbox(a,e))}if(j=0,k=0,l=0,void 0!==a.children)for(var d=0;d<a.children.length-oc_IE;d++){var e=a.children[d];"staff"==e.type&&("left"==e.position?(e.deltacorner=[q-e.fullbbox[0],a.boundbox[1]+j],j+=e.fullbbox[1],k=e.fullbbox[1],1==o&&(a.fullbbox[0]+=a.boundbox[0])):(e.deltacorner=[q,a.boundbox[1]+l],k=e.fullbbox[1],e.fullbbox[1]>k&&(j+=e.fullbbox[1]-k)),oc_update_fullbbox(a,e))}var s=0,t=q-p/2;if(0>t&&(t=0),void 0!==a.children){for(var d=0;d<a.children.length-oc_IE;d++){var e=a.children[d];"subordinate"==e.type&&(e.deltacorner=[t+s,a.boundbox[1]+j],s+=e.fullbbox[0])}for(var d=0;d<a.children.length-oc_IE;d++){var e=a.children[d];"subordinate"==e.type&&oc_update_fullbbox(a,e)}}if(OC_DEBUG&&void 0!==a.children)for(var d=0;d<a.children.length-oc_IE;d++){var e=a.children[d];console.log("oc_boundboxes_dimensions ["+e.title+"] "+"boundbox("+e.boundbox[0]+","+e.boundbox[1]+") "+"deltacenter("+e.deltacenter[0]+","+e.deltacenter[1]+") "+"fullbbox("+e.fullbbox[0]+","+e.fullbbox[1]+") "+"deltacorner("+e.deltacorner[0]+","+e.deltacorner[1]+") "+"xoffset("+e.xoffset+")")}}function oc_update_fullbbox(a,b){var c=0,d=0,e=a.fullbbox[0],f=a.fullbbox[1];b.deltacorner[0]<c&&(c=b.deltacorner[0]),b.deltacorner[0]+b.fullbbox[0]>e&&(e=b.deltacorner[0]+b.fullbbox[0]),b.deltacorner[1]+b.fullbbox[1]>f&&(f=b.deltacorner[1]+b.fullbbox[1]),c<a.deltacorner[0]&&(a.deltacorner[0]=c),OC_DEBUG&&console.log("updatefullbbox "+a.title+" <-- "+b.title+" x0="+c+" x1="+e+" y0="+d+" y1="+f),a.fullbbox=[e-c,f-d]}function oc_draw(){oc_paper=new Raphael(document.getElementById(oc_style.container),oc_data.root.fullbbox[0],oc_data.root.fullbbox[1]),oc_draw_obj(oc_data.root,null,0,0)}function oc_draw_obj(a,b,c,d){if(void 0!==a.children)for(var e=0;e<a.children.length-oc_IE;e++)oc_draw_obj(a.children[e],a,a.deltacorner[0]+c,a.deltacorner[1]+d);OC_DEBUG&&console.log("drawing "+a.title+": legacyXoff="+c+" legacyYoff="+d+" dcornerX="+a.deltacorner[0]+" dcornerY="+a.deltacorner[1]+" dcenterX="+a.deltacenter[0]+" dcenterY="+a.deltacenter[1]+" xoff="+a.xoffset);var f=c+a.deltacorner[0]+a.deltacenter[0]+a.xoffset,g=d+a.deltacorner[1]+a.deltacenter[1],h=f-oc_max_text_width/2-oc_style.inner_padding,i=f+oc_max_text_width/2+oc_style.inner_padding;if(oc_style.use_images&&void 0!==a.image)var j=g-oc_max_text_height/2-oc_style.inner_padding-oc_style.images_size[1]/2-oc_style.inner_padding/2,k=g+oc_max_text_height/2+oc_style.inner_padding+oc_style.images_size[1]/2+oc_style.inner_padding/2;else var j=g-oc_max_text_height/2-oc_style.inner_padding,k=g+oc_max_text_height/2+oc_style.inner_padding;var l=oc_paper.rect(h,j,i-h,k-j);l.attr("fill",oc_style.box_color),l.attr("stroke",oc_style.box_border_color),void 0!==a.id&&(l.oc_id=a.id),l.hover(function(){this.attr({fill:oc_style.box_color_hover})},function(){this.attr({fill:oc_style.box_color})}),null!==oc_style.box_click_handler&&l.click(function(a){oc_style.box_click_handler(a,l)});var m=j+oc_style.inner_padding+a.title_lines*oc_style.title_char_size[1]/2+(oc_max_title_lines-a.title_lines)*oc_style.title_char_size[1]/2-2,n=oc_paper.text(f,m,a.title);if(n.attr("font-family",oc_style.text_font),n.attr("font-size",oc_style.title_font_size),n.attr("fill",oc_style.title_color),void 0!==a.subtitle){var o=k-oc_style.inner_padding-a.subtitle_lines*oc_style.subtitle_char_size[1]/2,p=oc_paper.text(f,o,a.subtitle);p.attr("font-family",oc_style.text_font),p.attr("font-size",oc_style.subtitle_font_size),p.attr("fill",oc_style.subtitle_color)}if(oc_style.use_images&&void 0!==a.image&&oc_paper.image(oc_style.images_base_url+a.image,f-oc_style.images_size[0]/2,k-oc_style.images_size[1]-oc_style.inner_padding,oc_style.images_size[0],oc_style.images_size[1]),null!=b){var q=f-a.xoffset-a.deltacorner[0]+b.xoffset+0,r=g-0-a.deltacorner[1]+0+(b.deltacenter[1]-a.deltacenter[1]);q-oc_max_text_width/2-oc_style.inner_padding,q+oc_max_text_width/2+oc_style.inner_padding,r-oc_max_text_height/2-oc_style.inner_padding;var s,t,u=r+oc_max_text_height/2+oc_style.inner_padding;if("collateral"==a.type)if("left"==a.position){var v="M "+i+" "+g+" l "+2*oc_style.hline+" 0";s=oc_paper.path(v),t=oc_paper.path(v)}else{var v="M "+h+" "+g+" l -"+2*oc_style.hline+" 0";s=oc_paper.path(v),t=oc_paper.path(v)}else if("staff"==a.type)if("left"==a.position){var v="M "+i+" "+g+" h "+(q-i)+" v "+(r-g);s=oc_paper.path(v),t=oc_paper.path(v)}else{var v="M "+h+" "+g+" h "+(q-h)+" v "+(r-g);s=oc_paper.path(v),t=oc_paper.path(v)}else if(void 0===a.is_root){var v="M "+f+" "+j+" v -"+oc_style.vline+" h "+(q-f)+" V "+u;s=oc_paper.path(v),t=oc_paper.path(v)}s.attr("stroke",oc_style.line_color),t.attr("stroke",oc_style.line_color)}if(OC_DEBUG){h=c+a.deltacorner[0]+a.xoffset,i=c+a.deltacorner[0]+a.xoffset+a.boundbox[0],j=d+a.deltacorner[1],k=d+a.deltacorner[1]+a.boundbox[1];var w=oc_paper.rect(h+4,j+4,i-h-8,k-j-6);w.attr({stroke:"#00f","stroke-width":.4}),h=c+a.deltacorner[0],i=c+a.deltacorner[0]+a.fullbbox[0],j=d+a.deltacorner[1],k=d+a.deltacorner[1]+a.fullbbox[1];var x=oc_paper.rect(h+2,j+2,i-h-4,k-j-2);x.attr({stroke:"#f00","stroke-width":.4})}}if(Raphael.el.popup=function(a,b,c,d){var e,f,g,h,i,j=this.paper||this[0].paper;if(j){switch(this.type){case"text":case"circle":case"ellipse":g=!0;break;default:g=!1}a=null==a?"up":a,b=b||5,e=this.getBBox(),c="number"==typeof c?c:g?e.x+e.width/2:e.x,d="number"==typeof d?d:g?e.y+e.height/2:e.y,h=Math.max(e.width/2-b,0),i=Math.max(e.height/2-b,0),this.translate(c-e.x-(g?e.width/2:0),d-e.y-(g?e.height/2:0)),e=this.getBBox();var k={up:["M",c,d,"l",-b,-b,-h,0,"a",b,b,0,0,1,-b,-b,"l",0,-e.height,"a",b,b,0,0,1,b,-b,"l",2*b+2*h,0,"a",b,b,0,0,1,b,b,"l",0,e.height,"a",b,b,0,0,1,-b,b,"l",-h,0,"z"].join(","),down:["M",c,d,"l",b,b,h,0,"a",b,b,0,0,1,b,b,"l",0,e.height,"a",b,b,0,0,1,-b,b,"l",-(2*b+2*h),0,"a",b,b,0,0,1,-b,-b,"l",0,-e.height,"a",b,b,0,0,1,b,-b,"l",h,0,"z"].join(","),left:["M",c,d,"l",-b,b,0,i,"a",b,b,0,0,1,-b,b,"l",-e.width,0,"a",b,b,0,0,1,-b,-b,"l",0,-(2*b+2*i),"a",b,b,0,0,1,b,-b,"l",e.width,0,"a",b,b,0,0,1,b,b,"l",0,i,"z"].join(","),right:["M",c,d,"l",b,-b,0,-i,"a",b,b,0,0,1,b,-b,"l",e.width,0,"a",b,b,0,0,1,b,b,"l",0,2*b+2*i,"a",b,b,0,0,1,-b,b,"l",-e.width,0,"a",b,b,0,0,1,-b,-b,"l",0,-i,"z"].join(",")};return f={up:{x:-!g*(e.width/2),y:2*-b-(g?e.height/2:e.height)},down:{x:-!g*(e.width/2),y:2*b+(g?e.height/2:e.height)},left:{x:2*-b-(g?e.width/2:e.width),y:-!g*(e.height/2)},right:{x:2*b+(g?e.width/2:e.width),y:-!g*(e.height/2)}}[a],this.translate(f.x,f.y),j.path(k[a]).attr({fill:"#000",stroke:"none"}).insertBefore(this.node?this:this[0])}},Raphael.el.tag=function(a,b,c,d){var e=3,f=this.paper||this[0].paper;if(f){var g,h,i,j=f.path().attr({fill:"#000",stroke:"#000"}),k=this.getBBox();switch(this.type){case"text":case"circle":case"ellipse":i=!0;break;default:i=!1}return a=a||0,c="number"==typeof c?c:i?k.x+k.width/2:k.x,d="number"==typeof d?d:i?k.y+k.height/2:k.y,b=null==b?5:b,h=.5522*b,k.height>=2*b?j.attr({path:["M",c,d+b,"a",b,b,0,1,1,0,2*-b,b,b,0,1,1,0,2*b,"m",0,2*-b-e,"a",b+e,b+e,0,1,0,0,2*(b+e),"L",c+b+e,d+k.height/2+e,"l",k.width+2*e,0,0,-k.height-2*e,-k.width-2*e,0,"L",c,d-b-e].join(",")}):(g=Math.sqrt(Math.pow(b+e,2)-Math.pow(k.height/2+e,2)),j.attr({path:["M",c,d+b,"c",-h,0,-b,h-b,-b,-b,0,-h,b-h,-b,b,-b,h,0,b,b-h,b,b,0,h,h-b,b,-b,b,"M",c+g,d-k.height/2-e,"a",b+e,b+e,0,1,0,0,k.height+2*e,"l",b+e-g+k.width+2*e,0,0,-k.height-2*e,"L",c+g,d-k.height/2-e].join(",")})),a=360-a,j.rotate(a,c,d),this.attrs?(this.attr(this.attrs.x?"x":"cx",c+b+e+(i?k.width/2:"text"==this.type?k.width:0)).attr("y",i?d:d-k.height/2),this.rotate(a,c,d),a>90&&270>a&&this.attr(this.attrs.x?"x":"cx",c-b-e-(i?k.width/2:k.width)).rotate(180,c,d)):a>90&&270>a?(this.translate(c-k.x-k.width-b-e,d-k.y-k.height/2),this.rotate(a-180,k.x+k.width+b+e,k.y+k.height/2)):(this.translate(c-k.x+b+e,d-k.y-k.height/2),this.rotate(a,k.x-b-e,k.y+k.height/2)),j.insertBefore(this.node?this:this[0])}},Raphael.el.drop=function(a,b,c){var d,e,f,g,h,i=this.getBBox(),j=this.paper||this[0].paper;if(j){switch(this.type){case"text":case"circle":case"ellipse":d=!0;break;default:d=!1}return a=a||0,b="number"==typeof b?b:d?i.x+i.width/2:i.x,c="number"==typeof c?c:d?i.y+i.height/2:i.y,e=Math.max(i.width,i.height)+Math.min(i.width,i.height),f=j.path(["M",b,c,"l",e,0,"A",.4*e,.4*e,0,1,0,b+.7*e,c-.7*e,"z"]).attr({fill:"#000",stroke:"none"}).rotate(22.5-a,b,c),a=(a+90)*Math.PI/180,g=b+e*Math.sin(a)-(d?0:i.width/2),h=c+e*Math.cos(a)-(d?0:i.height/2),this.attrs?this.attr(this.attrs.x?"x":"cx",g).attr(this.attrs.y?"y":"cy",h):this.translate(g-i.x,h-i.y),f.insertBefore(this.node?this:this[0])}},Raphael.el.flag=function(a,b,c){var d=3,e=this.paper||this[0].paper;if(e){var f,g=e.path().attr({fill:"#000",stroke:"#000"}),h=this.getBBox(),i=h.height/2;switch(this.type){case"text":case"circle":case"ellipse":f=!0;break;default:f=!1}return a=a||0,b="number"==typeof b?b:f?h.x+h.width/2:h.x,c="number"==typeof c?c:f?h.y+h.height/2:h.y,g.attr({path:["M",b,c,"l",i+d,-i-d,h.width+2*d,0,0,h.height+2*d,-h.width-2*d,0,"z"].join(",")}),a=360-a,g.rotate(a,b,c),this.attrs?(this.attr(this.attrs.x?"x":"cx",b+i+d+(f?h.width/2:"text"==this.type?h.width:0)).attr("y",f?c:c-h.height/2),this.rotate(a,b,c),a>90&&270>a&&this.attr(this.attrs.x?"x":"cx",b-i-d-(f?h.width/2:h.width)).rotate(180,b,c)):a>90&&270>a?(this.translate(b-h.x-h.width-i-d,c-h.y-h.height/2),this.rotate(a-180,h.x+h.width+i+d,h.y+h.height/2)):(this.translate(b-h.x+i+d,c-h.y-h.height/2),this.rotate(a,h.x-i-d,h.y+h.height/2)),g.insertBefore(this.node?this:this[0])}},Raphael.el.label=function(){var a=this.getBBox(),b=this.paper||this[0].paper,c=Math.min(20,a.width+10,a.height+10)/2;return b?b.rect(a.x-c/2,a.y-c/2,a.width+c,a.height+c,c).attr({stroke:"none",fill:"#000"}).insertBefore(this.node?this:this[0]):void 0},Raphael.el.blob=function(a,b,c){var d,e,f,g=this.getBBox(),h=Math.PI/180,i=this.paper||this[0].paper;if(i){switch(this.type){case"text":case"circle":case"ellipse":e=!0;break;default:e=!1}d=i.path().attr({fill:"#000",stroke:"none"}),a=(+a+1?a:45)+90,f=Math.min(g.height,g.width),b="number"==typeof b?b:e?g.x+g.width/2:g.x,c="number"==typeof c?c:e?g.y+g.height/2:g.y;var j=Math.max(g.width+f,25*f/12),k=Math.max(g.height+f,25*f/12),l=b+f*Math.sin((a-22.5)*h),m=c+f*Math.cos((a-22.5)*h),n=b+f*Math.sin((a+22.5)*h),o=c+f*Math.cos((a+22.5)*h),p=(n-l)/2,q=(o-m)/2,r=j/2,s=k/2,t=-Math.sqrt(Math.abs(r*r*s*s-r*r*q*q-s*s*p*p)/(r*r*q*q+s*s*p*p)),u=t*r*q/s+(n+l)/2,v=t*-s*p/r+(o+m)/2;return d.attr({x:u,y:v,path:["M",b,c,"L",n,o,"A",r,s,0,1,1,l,m,"z"].join(",")}),this.translate(u-g.x-g.width/2,v-g.y-g.height/2),d.insertBefore(this.node?this:this[0])}},Raphael.fn.label=function(a,b,c){var d=this.set();return c=this.text(a,b,c).attr(Raphael.g.txtattr),d.push(c.label(),c)},Raphael.fn.popup=function(a,b,c,d,e){var f=this.set();return c=this.text(a,b,c).attr(Raphael.g.txtattr),f.push(c.popup(d,e,a,b),c)},Raphael.fn.tag=function(a,b,c,d,e){var f=this.set();return c=this.text(a,b,c).attr(Raphael.g.txtattr),f.push(c.tag(d,e),c)},Raphael.fn.flag=function(a,b,c,d){var e=this.set();return c=this.text(a,b,c).attr(Raphael.g.txtattr),e.push(c.flag(d),c)},Raphael.fn.drop=function(a,b,c,d){var e=this.set();return c=this.text(a,b,c).attr(Raphael.g.txtattr),e.push(c.drop(d),c)},Raphael.fn.blob=function(a,b,c,d){var e=this.set();return c=this.text(a,b,c).attr(Raphael.g.txtattr),e.push(c.blob(d),c)},Raphael.el.lighter=function(a){a=a||2;var b=[this.attrs.fill,this.attrs.stroke];return this.fs=this.fs||[b[0],b[1]],b[0]=Raphael.rgb2hsb(Raphael.getRGB(b[0]).hex),b[1]=Raphael.rgb2hsb(Raphael.getRGB(b[1]).hex),b[0].b=Math.min(b[0].b*a,1),b[0].s=b[0].s/a,b[1].b=Math.min(b[1].b*a,1),b[1].s=b[1].s/a,this.attr({fill:"hsb("+[b[0].h,b[0].s,b[0].b]+")",stroke:"hsb("+[b[1].h,b[1].s,b[1].b]+")"}),this},Raphael.el.darker=function(a){a=a||2;var b=[this.attrs.fill,this.attrs.stroke];return this.fs=this.fs||[b[0],b[1]],b[0]=Raphael.rgb2hsb(Raphael.getRGB(b[0]).hex),b[1]=Raphael.rgb2hsb(Raphael.getRGB(b[1]).hex),b[0].s=Math.min(b[0].s*a,1),b[0].b=b[0].b/a,b[1].s=Math.min(b[1].s*a,1),b[1].b=b[1].b/a,this.attr({fill:"hsb("+[b[0].h,b[0].s,b[0].b]+")",stroke:"hsb("+[b[1].h,b[1].s,b[1].b]+")"}),this},Raphael.el.resetBrightness=function(){return this.fs&&(this.attr({fill:this.fs[0],stroke:this.fs[1]}),delete this.fs),this},function(){var a=["lighter","darker","resetBrightness"],b=["popup","tag","flag","label","drop","blob"];for(var c in b)!function(a){Raphael.st[a]=function(){return Raphael.el[a].apply(this,arguments)}}(b[c]);for(var c in a)!function(a){Raphael.st[a]=function(){for(var b=0;b<this.length;b++)this[b][a].apply(this[b],arguments);return this}}(a[c])}(),Raphael.g={shim:{stroke:"none",fill:"#000","fill-opacity":0},txtattr:{font:"12px Arial, sans-serif",fill:"#fff"},colors:function(){for(var a=[.6,.2,.05,.1333,.75,0],b=[],c=0;10>c;c++)c<a.length?b.push("hsb("+a[c]+",.75, .75)"):b.push("hsb("+a[c-a.length]+", 1, .5)");return b}(),snapEnds:function(a,b,c){function d(a){return Math.abs(a-.5)<.25?~~a+.5:Math.round(a)}var e=a,f=b;if(e==f)return{from:e,to:f,power:0};var g=(f-e)/c,h=~~g,i=h,j=0;if(h){for(;i;)j--,i=~~(g*Math.pow(10,j))/Math.pow(10,j);j++}else{if(0!=g&&isFinite(g))for(;!h;)j=j||1,h=~~(g*Math.pow(10,j))/Math.pow(10,j),j++;else j=1;j&&j--}return f=d(b*Math.pow(10,j))/Math.pow(10,j),b>f&&(f=d((b+.5)*Math.pow(10,j))/Math.pow(10,j)),e=d((a-(j>0?0:.5))*Math.pow(10,j))/Math.pow(10,j),{from:e,to:f,power:j}},axis:function(a,b,c,d,e,f,g,h,i,j,k){j=null==j?2:j,i=i||"t",f=f||10,k=arguments[arguments.length-1];var l,m="|"==i||" "==i?["M",a+.5,b,"l",0,.001]:1==g||3==g?["M",a+.5,b,"l",0,-c]:["M",a,b+.5,"l",c,0],n=this.snapEnds(d,e,f),o=n.from,p=n.to,q=n.power,r=0,s={font:"11px 'Fontin Sans', Fontin-Sans, sans-serif"},t=k.set();l=(p-o)/f;var u=o,v=q>0?q:0;if(z=c/f,1==+g||3==+g){for(var w=b,x=(g-1?1:-1)*(j+3+!!(g-1));w>=b-c;)"-"!=i&&" "!=i&&(m=m.concat(["M",a-("+"==i||"|"==i?j:2*!(g-1)*j),w+.5,"l",2*j+1,0])),t.push(k.text(a+x,w,h&&h[r++]||(Math.round(u)==u?u:+u.toFixed(v))).attr(s).attr({"text-anchor":g-1?"start":"end"})),u+=l,w-=z;Math.round(w+z-(b-c))&&("-"!=i&&" "!=i&&(m=m.concat(["M",a-("+"==i||"|"==i?j:2*!(g-1)*j),b-c+.5,"l",2*j+1,0])),t.push(k.text(a+x,b-c,h&&h[r]||(Math.round(u)==u?u:+u.toFixed(v))).attr(s).attr({"text-anchor":g-1?"start":"end"})))}else{u=o,v=(q>0)*q,x=(g?-1:1)*(j+9+!g);for(var y=a,z=c/f,A=0,B=0;a+c>=y;){"-"!=i&&" "!=i&&(m=m.concat(["M",y+.5,b-("+"==i?j:2*!!g*j),"l",0,2*j+1])),t.push(A=k.text(y,b+x,h&&h[r++]||(Math.round(u)==u?u:+u.toFixed(v))).attr(s));var C=A.getBBox();B>=C.x-5?t.pop(t.length-1).remove():B=C.x+C.width,u+=l,y+=z}Math.round(y-z-a-c)&&("-"!=i&&" "!=i&&(m=m.concat(["M",a+c+.5,b-("+"==i?j:2*!!g*j),"l",0,2*j+1])),t.push(k.text(a+c,b+x,h&&h[r]||(Math.round(u)==u?u:+u.toFixed(v))).attr(s)))}var D=k.path(m);return D.text=t,D.all=k.set([D,t]),D.remove=function(){this.text.remove(),this.constructor.prototype.remove.call(this)},D},labelise:function(a,b,c){return a?(a+"").replace(/(##+(?:\.#+)?)|(%%+(?:\.%+)?)/g,function(a,d,e){return d?(+b).toFixed(d.replace(/^#+\.?/g,"").length):e?(100*b/c).toFixed(e.replace(/^%+\.?/g,"").length)+"%":void 0}):(+b).toFixed(0)}},!function(){function a(a,b,c,f,g,h,i,j){var k,l={round:"round",sharp:"sharp",soft:"soft",square:"square"};if(g&&!f||!g&&!c)return i?"":j.path();switch(h=l[h]||"square",f=Math.round(f),c=Math.round(c),a=Math.round(a),b=Math.round(b),h){case"round":if(g)m=~~(c/2),m>f?(m=f,k=["M",a-~~(c/2),b,"l",0,0,"a",~~(c/2),m,0,0,1,c,0,"l",0,0,"z"]):k=["M",a-m,b,"l",0,m-f,"a",m,m,0,1,1,c,0,"l",0,f-m,"z"];else{var m=~~(f/2);m>c?(m=c,k=["M",a+.5,b+.5-~~(f/2),"l",0,0,"a",m,~~(f/2),0,0,1,0,f,"l",0,0,"z"]):k=["M",a+.5,b+.5-m,"l",c-m,0,"a",m,m,0,1,1,0,f,"l",m-c,0,"z"]}break;case"sharp":if(g)n=~~(c/2),k=["M",a+n,b,"l",-c,0,0,-e(f-n,0),n,-d(n,f),n,d(n,f),n,"z"];else{var n=~~(f/2);k=["M",a,b+n,"l",0,-f,e(c-n,0),0,d(n,c),n,-d(n,c),n+(f>2*n),"z"]}break;case"square":k=g?["M",a+~~(c/2),b,"l",1-c,0,0,-f,c-1,0,"z"]:["M",a,b+~~(f/2),"l",0,-f,c,0,0,f,"z"];break;case"soft":g?(m=d(Math.round(c/5),f),k=["M",a-~~(c/2),b,"l",0,m-f,"a",m,m,0,0,1,m,-m,"l",c-2*m,0,"a",m,m,0,0,1,m,m,"l",0,f-m,"z"]):(m=d(c,Math.round(f/5)),k=["M",a+.5,b+.5-~~(f/2),"l",c-m,0,"a",m,m,0,0,1,m,m,"l",0,f-2*m,"a",m,m,0,0,1,-m,m,"l",m-c,0,"z"])}return i?k.join(","):j.path(k)}function b(b,c,d,e,f,g,h){h=h||{};var i=this,j=h.type||"square",k=parseFloat(h.gutter||"20%"),l=b.set(),m=b.set(),n=b.set(),o=b.set(),p=Math.max.apply(Math,g),q=[],r=0,s=h.colors||i.colors,t=g.length;if(Raphael.is(g[0],"array")){p=[],r=t,t=0;for(var u=g.length;u--;)m.push(b.set()),p.push(Math.max.apply(Math,g[u])),t=Math.max(t,g[u].length);if(h.stacked)for(var u=t;u--;){for(var v=0,w=g.length;w--;)v+=+g[w][u]||0;q.push(v)}for(var u=g.length;u--;)if(g[u].length<t)for(var w=t;w--;)g[u].push(0);p=Math.max.apply(Math,h.stacked?q:p)}p=h.to||p;var x=100*(e/(t*(100+k)+k)),y=x*k/100,z=null==h.vgutter?20:h.vgutter,A=[],B=c+y,C=(f-2*z)/p;h.stretch||(y=Math.round(y),x=Math.floor(x)),!h.stacked&&(x/=r||1);for(var u=0;t>u;u++){A=[];for(var w=0;(r||1)>w;w++){var D=Math.round((r?g[w][u]:g[u])*C),E=d+f-z-D,F=a(Math.round(B+x/2),E+D,x,D,!0,j,null,b).attr({stroke:"none",fill:s[r?w:u]});r?m[w].push(F):m.push(F),F.y=E,F.x=Math.round(B+x/2),F.w=x,F.h=D,F.value=r?g[w][u]:g[u],h.stacked?A.push(F):B+=x}if(h.stacked){var G;o.push(G=b.rect(A[0].x-A[0].w/2,d,x,f).attr(i.shim)),G.bars=b.set();for(var H=0,I=A.length;I--;)A[I].toFront();for(var I=0,J=A.length;J>I;I++){var K,F=A[I],D=(H+F.value)*C,L=a(F.x,d+f-z-.5*!!H,x,D,!0,j,1,b);G.bars.push(F),H&&F.attr({path:L}),F.h=D,F.y=d+f-z-.5*!!H-D,n.push(K=b.rect(F.x-F.w/2,F.y,x,F.value*C).attr(i.shim)),K.bar=F,K.value=F.value,H+=F.value}B+=x}B+=y}if(o.toFront(),B=c+y,!h.stacked)for(var u=0;t>u;u++){for(var w=0;(r||1)>w;w++){var K;n.push(K=b.rect(Math.round(B),d+z,x,f-z).attr(i.shim)),K.bar=r?m[w][u]:m[u],K.value=K.bar.value,B+=x}B+=y}return l.label=function(a){a=a||[],this.labels=b.set();for(var c=this[0],d=0;d<c.length;d++){var e=c[d],f=[];if(e)for(var g=0;g<e.length;g++){var h=e[g],i=h.getBBox();f.push(b.label(i.x,i.y,a[d][g]))}}return this.push(this.labels),this},l.hover=function(a,b){return o.hide(),n.show(),n.mouseover(a).mouseout(b),this},l.hoverColumn=function(a,b){return n.hide(),o.show(),b=b||function(){},o.mouseover(a).mouseout(b),this},l.click=function(a){return o.hide(),n.show(),n.click(a),this},l.each=function(a){if(!Raphael.is(a,"function"))return this;for(var b=n.length;b--;)a.call(n[b]);return this},l.eachColumn=function(a){if(!Raphael.is(a,"function"))return this;for(var b=o.length;b--;)a.call(o[b]);return this},l.clickColumn=function(a){return n.hide(),o.show(),o.click(a),this},l.push(m,n,o),l.bars=m,l.covers=n,l}function c(b,c,d,e,f,g,h){h=h||{};var i=this,j=h.type||"square",k=parseFloat(h.gutter||"20%"),l=b.set(),m=b.set(),n=b.set(),o=b.set(),p=Math.max.apply(Math,g),q=[],r=0,s=h.colors||i.colors,t=g.length;if(Raphael.is(g[0],"array")){p=[],r=t,t=0;for(var u=g.length;u--;)m.push(b.set()),p.push(Math.max.apply(Math,g[u])),t=Math.max(t,g[u].length);if(h.stacked)for(var u=t;u--;){for(var v=0,w=g.length;w--;)v+=+g[w][u]||0;q.push(v)}for(var u=g.length;u--;)if(g[u].length<t)for(var w=t;w--;)g[u].push(0);p=Math.max.apply(Math,h.stacked?q:p)}p=h.to||p;var x=Math.floor(100*(f/(t*(100+k)+k))),y=Math.floor(x*k/100),z=[],A=d+y,B=(e-1)/p;!h.stacked&&(x/=r||1);for(var u=0;t>u;u++){z=[];for(var w=0;(r||1)>w;w++){var C=r?g[w][u]:g[u],D=a(c,A+x/2,Math.round(C*B),x-1,!1,j,null,b).attr({stroke:"none",fill:s[r?w:u]});r?m[w].push(D):m.push(D),D.x=c+Math.round(C*B),D.y=A+x/2,D.w=Math.round(C*B),D.h=x,D.value=+C,h.stacked?z.push(D):A+=x}if(h.stacked){var E=b.rect(c,z[0].y-z[0].h/2,e,x).attr(i.shim);o.push(E),E.bars=b.set();for(var F=0,G=z.length;G--;)z[G].toFront();for(var G=0,H=z.length;H>G;G++){var I,D=z[G],C=Math.round((F+D.value)*B),J=a(c,D.y,C,x-1,!1,j,1,b);E.bars.push(D),F&&D.attr({path:J}),D.w=C,D.x=c+C,n.push(I=b.rect(c+F*B,D.y-D.h/2,D.value*B,x).attr(i.shim)),I.bar=D,F+=D.value}A+=x}A+=y}if(o.toFront(),A=d+y,!h.stacked)for(var u=0;t>u;u++){for(var w=0;(r||1)>w;w++){var I=b.rect(c,A,e,x).attr(i.shim);n.push(I),I.bar=r?m[w][u]:m[u],I.value=I.bar.value,A+=x}A+=y}return l.label=function(a,d){a=a||[],this.labels=b.set();for(var e=0;t>e;e++)for(var f=0;r>f;f++){var h,i=b.labelise(r?a[f]&&a[f][e]:a[e],r?g[f][e]:g[e],p),j=d?m[e*(r||1)+f].x-x/2+3:c+5,k=d?"end":"start";this.labels.push(h=b.text(j,m[e*(r||1)+f].y,i).attr(txtattr).attr({"text-anchor":k}).insertBefore(n[0])),h.getBBox().x<c+5?h.attr({x:c+5,"text-anchor":"start"}):m[e*(r||1)+f].label=h}return this},l.hover=function(a,b){return o.hide(),n.show(),b=b||function(){},n.mouseover(a).mouseout(b),this},l.hoverColumn=function(a,b){return n.hide(),o.show(),b=b||function(){},o.mouseover(a).mouseout(b),this},l.each=function(a){if(!Raphael.is(a,"function"))return this;for(var b=n.length;b--;)a.call(n[b]);return this},l.eachColumn=function(a){if(!Raphael.is(a,"function"))return this;for(var b=o.length;b--;)a.call(o[b]);return this},l.click=function(a){return o.hide(),n.show(),n.click(a),this},l.clickColumn=function(a){return n.hide(),o.show(),o.click(a),this},l.push(m,n,o),l.bars=m,l.covers=n,l}var d=Math.min,e=Math.max,f=function(){};f.prototype=Raphael.g,c.prototype=b.prototype=new f,Raphael.fn.barchart=function(a,c,d,e,f,g){return new b(this,a,c,d,e,f,g)},Raphael.fn.hbarchart=function(a,b,d,e,f,g){return new c(this,a,b,d,e,f,g)}}(),!function(){function a(a,c,d,e,f,g,h,i,j){function k(b){+b[0]&&(b[0]=l.axis(c+p,d+p,e-2*p,n,o,j.axisxstep||Math.floor((e-2*p)/20),2,j.axisxlabels||null,j.axisxtype||"t",null,a)),+b[1]&&(b[1]=l.axis(c+e-p,d+f-p,f-2*p,r,s,j.axisystep||Math.floor((f-2*p)/20),3,j.axisylabels||null,j.axisytype||"t",null,a)),+b[2]&&(b[2]=l.axis(c+p,d+f-p+D,e-2*p,n,o,j.axisxstep||Math.floor((e-2*p)/20),0,j.axisxlabels||null,j.axisxtype||"t",null,a)),+b[3]&&(b[3]=l.axis(c+p-D,d+f-p,f-2*p,r,s,j.axisystep||Math.floor((f-2*p)/20),1,j.axisylabels||null,j.axisytype||"t",null,a))}j=j||{};for(var l=this,m=l.snapEnds(Math.min.apply(Math,g),Math.max.apply(Math,g),g.length-1),n=m.from,o=m.to,p=j.gutter||10,q=l.snapEnds(Math.min.apply(Math,h),Math.max.apply(Math,h),h.length-1),r=q.from,s=q.to,t=Math.max(g.length,h.length,i.length),u=a[j.symbol]||"circle",v=a.set(),w=a.set(),x=j.max||100,y=Math.max.apply(Math,i),z=[],A=2*Math.sqrt(y/Math.PI)/x,B=0;t>B;B++)z[B]=Math.min(2*Math.sqrt(i[B]/Math.PI)/A,x);p=Math.max.apply(Math,z.concat(p));var C=a.set(),D=Math.max.apply(Math,z);if(j.axis){var E=(j.axis+"").split(/[,\s]+/);k.call(l,E);for(var F=[],G=[],B=0,H=E.length;H>B;B++){var I=E[B].all?E[B].all.getBBox()[["height","width"][B%2]]:0;F[B]=I+p,G[B]=I}p=Math.max.apply(Math,F.concat(p));for(var B=0,H=E.length;H>B;B++)E[B].all&&(E[B].remove(),E[B]=1);k.call(l,E);for(var B=0,H=E.length;H>B;B++)E[B].all&&C.push(E[B].all);v.axis=C}for(var J=(e-2*p)/(o-n||1),K=(f-2*p)/(s-r||1),B=0,H=h.length;H>B;B++){var L=a.raphael.is(u,"array")?u[B]:u,M=c+p+(g[B]-n)*J,N=d+f-p-(h[B]-r)*K;L&&z[B]&&w.push(a[L](M,N,z[B]).attr({fill:j.heat?b(z[B],D):l.colors[0],"fill-opacity":j.opacity?z[B]/x:1,stroke:"none"}))}for(var O=a.set(),B=0,H=h.length;H>B;B++){var M=c+p+(g[B]-n)*J,N=d+f-p-(h[B]-r)*K;O.push(a.circle(M,N,D).attr(l.shim)),j.href&&j.href[B]&&O[B].attr({href:j.href[B]}),O[B].r=+z[B].toFixed(3),O[B].x=+M.toFixed(3),O[B].y=+N.toFixed(3),O[B].X=g[B],O[B].Y=h[B],O[B].value=i[B]||0,O[B].dot=w[B]}return v.covers=O,v.series=w,v.push(w,C,O),v.hover=function(a,b){return O.mouseover(a).mouseout(b),this},v.click=function(a){return O.click(a),this},v.each=function(b){if(!a.raphael.is(b,"function"))return this;for(var c=O.length;c--;)b.call(O[c]);return this},v.href=function(a){for(var b,c=O.length;c--;)b=O[c],b.X==a.x&&b.Y==a.y&&b.value==a.value&&b.attr({href:a.href})
},v}var b=function(a,b,c,d){return"hsb("+[Math.min(.4*(1-a/b),1),c||.75,d||.75]+")"},c=function(){};c.prototype=Raphael.g,a.prototype=new c,Raphael.fn.dotchart=function(b,c,d,e,f,g,h,i){return new a(this,b,c,d,e,f,g,h,i)}}(),!function(){function a(a,b){for(var c=a.length/b,d=0,e=c,f=0,g=[];d<a.length;)e--,0>e?(f+=a[d]*(1+e),g.push(f/c),f=a[d++]*-e,e+=c):f+=1*a[d++];return g}function b(a,b,c,d,e,f){var g=(c-a)/2,h=(e-c)/2,i=Math.atan((c-a)/Math.abs(d-b)),j=Math.atan((e-c)/Math.abs(d-f));i=d>b?Math.PI-i:i,j=d>f?Math.PI-j:j;var k=Math.PI/2-(i+j)%(2*Math.PI)/2,l=g*Math.sin(k+i),m=g*Math.cos(k+i),n=h*Math.sin(k+j),o=h*Math.cos(k+j);return{x1:c-l,y1:d+m,x2:c+n,y2:d+o}}function c(c,d,e,f,g,h,i,j){function k(a){for(var b=[],j=0,k=h.length;k>j;j++)b=b.concat(h[j]);b.sort(function(a,b){return a-b});var l=[],m=[];for(j=0,k=b.length;k>j;j++)b[j]!=b[j-1]&&l.push(b[j])&&m.push(d+n+(b[j]-B)*G);b=l,k=b.length;var o=a||c.set();for(j=0;k>j;j++){var p,q=m[j]-(m[j]-(m[j-1]||d))/2,s=((m[j+1]||d+f)-m[j])/2+(m[j]-(m[j-1]||d))/2;a?p={}:o.push(p=c.rect(q-1,e,Math.max(s+1,1),g).attr({stroke:"none",fill:"#000",opacity:0})),p.values=[],p.symbols=c.set(),p.y=[],p.x=m[j],p.axis=b[j];for(var u=0,v=i.length;v>u;u++){l=h[u]||h[0];for(var w=0,x=l.length;x>w;w++)l[w]==b[j]&&(p.values.push(i[u][w]),p.y.push(e+g-n-(i[u][w]-E)*H),p.symbols.push(t.symbols[u][w]))}a&&a.call(p)}!a&&(r=o)}function l(a){for(var b,f=a||c.set(),j=0,k=i.length;k>j;j++)for(var l=0,m=i[j].length;m>l;l++){var o=d+n+((h[j]||h[0])[l]-B)*G,p=d+n+((h[j]||h[0])[l?l-1:1]-B)*G,q=e+g-n-(i[j][l]-E)*H;a?b={}:f.push(b=c.circle(o,q,Math.abs(p-o)/2).attr({stroke:"#000",fill:"#000",opacity:1})),b.x=o,b.y=q,b.value=i[j][l],b.line=t.lines[j],b.shade=t.shades[j],b.symbol=t.symbols[j][l],b.symbols=t.symbols[j],b.axis=(h[j]||h[0])[l],a&&a.call(b)}!a&&(s=f)}var m=this;j=j||{},c.raphael.is(h[0],"array")||(h=[h]),c.raphael.is(i[0],"array")||(i=[i]);for(var n=j.gutter||10,o=Math.max(h[0].length,i[0].length),p=j.symbol||"",q=j.colors||m.colors,r=null,s=null,t=c.set(),u=[],v=0,w=i.length;w>v;v++)o=Math.max(o,i[v].length);var x=c.set();for(v=0,w=i.length;w>v;v++)j.shade&&x.push(c.path().attr({stroke:"none",fill:q[v],opacity:j.nostroke?1:.3})),i[v].length>f-2*n&&(i[v]=a(i[v],f-2*n),o=f-2*n),h[v]&&h[v].length>f-2*n&&(h[v]=a(h[v],f-2*n));var y=Array.prototype.concat.apply([],h),z=Array.prototype.concat.apply([],i),A=m.snapEnds(Math.min.apply(Math,y),Math.max.apply(Math,y),h[0].length-1),B=A.from,C=A.to,D=m.snapEnds(Math.min.apply(Math,z),Math.max.apply(Math,z),i[0].length-1),E=D.from,F=D.to,G=(f-2*n)/(C-B||1),H=(g-2*n)/(F-E||1),I=c.set();if(j.axis){var J=(j.axis+"").split(/[,\s]+/);+J[0]&&I.push(m.axis(d+n,e+n,f-2*n,B,C,j.axisxstep||Math.floor((f-2*n)/20),2,c)),+J[1]&&I.push(m.axis(d+f-n,e+g-n,g-2*n,E,F,j.axisystep||Math.floor((g-2*n)/20),3,c)),+J[2]&&I.push(m.axis(d+n,e+g-n,f-2*n,B,C,j.axisxstep||Math.floor((f-2*n)/20),0,c)),+J[3]&&I.push(m.axis(d+n,e+g-n,g-2*n,E,F,j.axisystep||Math.floor((g-2*n)/20),1,c))}var K,L=c.set(),M=c.set();for(v=0,w=i.length;w>v;v++){j.nostroke||L.push(K=c.path().attr({stroke:q[v],"stroke-width":j.width||2,"stroke-linejoin":"round","stroke-linecap":"round","stroke-dasharray":j.dash||""}));var N=Raphael.is(p,"array")?p[v]:p,O=c.set();u=[];for(var P=0,Q=i[v].length;Q>P;P++){var R=d+n+((h[v]||h[0])[P]-B)*G,S=e+g-n-(i[v][P]-E)*H;if((Raphael.is(N,"array")?N[P]:N)&&O.push(c[Raphael.is(N,"array")?N[P]:N](R,S,3*(j.width||2)).attr({fill:q[v],stroke:"none"})),j.smooth){if(P&&P!=Q-1){var T=d+n+((h[v]||h[0])[P-1]-B)*G,U=e+g-n-(i[v][P-1]-E)*H,V=d+n+((h[v]||h[0])[P+1]-B)*G,W=e+g-n-(i[v][P+1]-E)*H,X=b(T,U,R,S,V,W);u=u.concat([X.x1,X.y1,R,S,X.x2,X.y2])}P||(u=["M",R,S,"C",R,S])}else u=u.concat([P?"L":"M",R,S])}j.smooth&&(u=u.concat([R,S,R,S])),M.push(O),j.shade&&x[v].attr({path:u.concat(["L",R,e+g-n,"L",d+n+((h[v]||h[0])[0]-B)*G,e+g-n,"z"]).join(",")}),!j.nostroke&&K.attr({path:u.join(",")})}return t.push(L,x,M,I,r,s),t.lines=L,t.shades=x,t.symbols=M,t.axis=I,t.hoverColumn=function(a,b){return!r&&k(),r.mouseover(a).mouseout(b),this},t.clickColumn=function(a){return!r&&k(),r.click(a),this},t.hrefColumn=function(a){var b=c.raphael.is(arguments[0],"array")?arguments[0]:arguments;if(!(arguments.length-1)&&"object"==typeof a)for(var d in a)for(var e=0,f=r.length;f>e;e++)r[e].axis==d&&r[e].attr("href",a[d]);for(!r&&k(),e=0,f=b.length;f>e;e++)r[e]&&r[e].attr("href",b[e]);return this},t.hover=function(a,b){return!s&&l(),s.mouseover(a).mouseout(b),this},t.click=function(a){return!s&&l(),s.click(a),this},t.each=function(a){return l(a),this},t.eachColumn=function(a){return k(a),this},t}var d=function(){};d.prototype=Raphael.g,c.prototype=new d,Raphael.fn.linechart=function(a,b,d,e,f,g,h){return new c(this,a,b,d,e,f,g,h)}}(),!function(){function a(a,b,c,d,e,f){function g(a,b,c,d,e){var f=Math.PI/180,g=a+c*Math.cos(-d*f),h=a+c*Math.cos(-e*f),i=a+c/2*Math.cos(-(d+(e-d)/2)*f),j=b+c*Math.sin(-d*f),k=b+c*Math.sin(-e*f),l=b+c/2*Math.sin(-(d+(e-d)/2)*f),m=["M",a,b,"L",g,j,"A",c,c,0,+(Math.abs(e-d)>180),1,h,k,"z"];return m.middle={x:i,y:l},m}f=f||{};var h=this,i=[],j=a.set(),k=a.set(),l=a.set(),m=e.length,n=0,o=0,p=0,q=f.maxSlices||100,r=parseFloat(f.minPercent)||1,s=Boolean(r);if(k.covers=j,1==m)l.push(a.circle(b,c,d).attr({fill:f.colors&&f.colors[0]||h.colors[0],stroke:f.stroke||"#fff","stroke-width":null==f.strokewidth?1:f.strokewidth})),j.push(a.circle(b,c,d).attr(h.shim)),o=e[0],e[0]={value:e[0],order:0,valueOf:function(){return this.value}},f.href&&f.href[0]&&j[0].attr({href:f.href[0]}),l[0].middle={x:b,y:c},l[0].mangle=180;else{for(var t=0;m>t;t++)o+=e[t],e[t]={value:e[t],order:t,valueOf:function(){return this.value}};for(e.sort(function(a,b){return b.value-a.value}),t=0;m>t;t++)s&&100*e[t]/o<r&&(q=t,s=!1),t>q&&(s=!1,e[q].value+=e[t],e[q].others=!0,p=e[q].value);for(m=Math.min(q+1,e.length),p&&e.splice(m)&&(e[q].others=!0),t=0;m>t;t++){var u=n-360*e[t]/o/2;if(t||(n=90-u,u=n-360*e[t]/o/2),f.init)var v=g(b,c,1,n,n-360*e[t]/o).join(",");var w=g(b,c,d,n,n-=360*e[t]/o),x=f.matchColors&&1==f.matchColors?e[t].order:t,y=a.path(f.init?v:w).attr({fill:f.colors&&f.colors[x]||h.colors[x]||"#666",stroke:f.stroke||"#fff","stroke-width":null==f.strokewidth?1:f.strokewidth,"stroke-linejoin":"round"});y.value=e[t],y.middle=w.middle,y.mangle=u,i.push(y),l.push(y),f.init&&y.animate({path:w.join(",")},+f.init-1||1e3,">")}for(t=0;m>t;t++){y=a.path(i[t].attr("path")).attr(h.shim);var x=e[t].order;f.href&&f.href[x]&&y.attr({href:f.href[x]}),y.attr=function(){},j.push(y),l.push(y)}}k.hover=function(a,f){f=f||function(){};for(var g=this,h=0;m>h;h++)!function(h,i,j){var k={sector:h,cover:i,cx:b,cy:c,mx:h.middle.x,my:h.middle.y,mangle:h.mangle,r:d,value:e[j],total:o,label:g.labels&&g.labels[j]};i.mouseover(function(){a.call(k)}).mouseout(function(){f.call(k)})}(l[h],j[h],h);return this},k.each=function(a){for(var f=this,g=0;m>g;g++)!function(g,h,i){var j={sector:g,cover:h,cx:b,cy:c,x:g.middle.x,y:g.middle.y,mangle:g.mangle,r:d,value:e[i],total:o,label:f.labels&&f.labels[i]};a.call(j)}(l[g],j[g],g);return this},k.click=function(a){for(var f=this,g=0;m>g;g++)!function(g,h,i){var j={sector:g,cover:h,cx:b,cy:c,mx:g.middle.x,my:g.middle.y,mangle:g.mangle,r:d,value:e[i],total:o,label:f.labels&&f.labels[i]};h.click(function(){a.call(j)})}(l[g],j[g],g);return this},k.inject=function(a){a.insertBefore(j[0])};var z=function(g,i,n,p){var q=b+d+d/5,r=c,s=r+10;g=g||[],p=p&&p.toLowerCase&&p.toLowerCase()||"east",n=a[n&&n.toLowerCase()]||"circle",k.labels=a.set();for(var t=0;m>t;t++){var u,v=l[t].attr("fill"),w=e[t].order;e[t].others&&(g[w]=i||"Others"),g[w]=h.labelise(g[w],e[t],o),k.labels.push(a.set()),k.labels[t].push(a[n](q+5,s,5).attr({fill:v,stroke:"none"})),k.labels[t].push(u=a.text(q+20,s,g[w]||e[w]).attr(h.txtattr).attr({fill:f.legendcolor||"#000","text-anchor":"start"})),j[t].label=k.labels[t],s+=1.2*u.getBBox().height}var x=k.labels.getBBox(),y={east:[0,-x.height/2],west:[-x.width-2*d-20,-x.height/2],north:[-d-x.width/2,-d-x.height-10],south:[-d-x.width/2,d+10]}[p];k.labels.translate.apply(k.labels,y),k.push(k.labels)};return f.legend&&z(f.legend,f.legendothers,f.legendmark,f.legendpos),k.push(l,j),k.series=l,k.covers=j,k}var b=function(){};b.prototype=Raphael.g,a.prototype=new b,Raphael.fn.piechart=function(b,c,d,e,f){return new a(this,b,c,d,e,f)}}(),Raphael.fn.sunburst=function(a,b,c,d){function e(a){if(n[a])return n[a];for(var b=d.onLevelWidth||function(a){return this.levelWidths?this.levelWidths[a]:this.levelWidth||50},c=0,e=0;a>=e;e++)c+=b.call(d,e);return n[a]=c,c}function f(a,b,c,d,e,f,g){var h=f-e,i=Math.abs(h)>=360;i&&(f=e+359.99);var j=Math.abs(h)>180,l=Math.PI/180,m=a+d*Math.cos(-e*l),n=b+d*Math.sin(-e*l),o=a+d*Math.cos(-f*l),p=b+d*Math.sin(-f*l),q=a+c*Math.cos(-e*l),r=b+c*Math.sin(-e*l),s=a+c*Math.cos(-f*l),t=b+c*Math.sin(-f*l),u=Math.abs(f+e)/2,v=(d+c)/2,w=a+v*Math.cos(-u*l),x=b+v*Math.sin(-u*l),y=k.path(["M",q,r,"A",c,c,0,+j,0,s,t,i?"M":"L",o,p,"A",d,d,0,+j,1,m,n,"Z"]);return y.middle={x:w,y:x},y.mangle=u,y.ri=c,y.ro=d,y.attr(g)}function g(a,b){var c,d={label:a,value:0,children:[]},e=0;for(var f in b)~~b[f]?(d.value+=b[f],c={label:f,value:b[f],depth:0,children:[]}):(c=g(f,b[f]),d.value+=c.value),e=Math.max(e,c.depth),d.children[d.children.length]=c;return d.depth=e+1,d}function h(a,b){var a=a%(d.colors.length||d.gradients.length);return d.onGradient?{gradient:d.onGradient.call(d,a,b)}:d.gradients?{gradient:d.gradients[a]}:{fill:d.colors?d.colors[a]:Raphael.getColor()}}function i(c,g,j,k,l,m){j=j||0,k=k||c.value,l=l||d.offsetAngle||0,m=m||0;for(var n,o=l,p=c.children,q=0,r=0;r<p.length;r++){n=o,o+=360*(p[r].value/k);var s=0==j?q:m,t=f(a,b,e(j),e(j+1),n,o,h(d.colorizeByLevel?j:s,j)).attr({stroke:d.stroke||"#fff","stroke-width":d.strokewidth||1});t.level=j,t.value=p[r].value,t.label=p[r].label,g.push(t),i(p[r],g,j+1,k,n,s),q++}}function j(c){return{sector:c,cx:a,cy:b,mx:c.middle.x,my:c.middle.y,mangle:c.mangle}}d=d||{};var k=this,l=this.set(),m=this.set(),n=[];Raphael.getColor.reset();var o=g(d.rootLabel,c);return i(o,m),l.hover=function(a,b){b=b||function(){};for(var c=0;c<m.length;c++)!function(c){var d=j(c);c.mouseover(function(){a.call(d)}),c.mouseout(function(){b.call(d)})}(m[c]);return this},l.click=function(a){for(var b=0;b<m.length;b++)!function(b){var c=j(b);b.click(function(){a.call(c)})}(m[b]);return this},l.push(m),l.series=m,l},!function(){function a(a,b,c,d,e,f){f=f||{};var g,h=this,i=[],k=a.set(),l=a.set(),m=a.set(),n=a.set(),o=0,p=Math.max.apply(Math,e),q=e.length,r={pointarray:[],path:null},s={meshwidth:1,strokewidth:2,stroke:"#f90",meshcolor:"#999",helplines:5,circleradius:10,numbers:!0,numberscolor:"#fff"};for(var t in f)s[t]=f[t];f=s,delete s;for(var u=function(a,d,e,f,g){var h=Math.PI/180,i=Math.cos(-f*h),j=Math.sin(-f*h),k=a+e*i,l=d+e*j,m=a+g*i,n=d+g*j,o={x:k,y:l,path:["M",b,c,"L",k,l].join(","),rest:["M",k,l,"L",m,n].join(",")};return o},v=q;v--;)o+=+e[v];if(g=a.circle(b,c,5).attr({stroke:f.meshcolor,fill:f.meshcolor,"stroke-width":f.meshwidth}),f.helplines)for(var w=d/f.helplines,v=0;v<f.helplines;v++)n.push(a.circle(b,c,w*(v+1)).attr({stroke:f.meshcolor,"stroke-width":f.meshwidth}));for(var v=0;q>v;v++)i[v]=u(b,c,d*e[v]/p,360*v/q,d);r.pointarray.push("M");for(var v=0;q>v;v++)r.pointarray.push(i[v].x,i[v].y,"L");r.pointarray.push(i[0].x,i[0].y),r.path=a.path(r.pointarray.join(",")).attr({stroke:f.stroke,"stroke-width":f.meshwidth,fill:f.stroke,"fill-opacity":.4});for(var v=0;q>v;v++){i[v].path=a.path(i[v].path).attr({stroke:f.stroke,"stroke-width":f.strokewidth}),i[v].rest=a.path(i[v].rest).attr({stroke:f.meshcolor,"stroke-width":f.meshwidth}),i[v].point=a.circle(i[v].x,i[v].y,f.circleradius).attr({stroke:f.stroke,fill:f.stroke}),f.numbers&&(i[v].number=a.text(i[v].x,i[v].y+1,v+1).attr(h.txtattr).attr({fill:f.numberscolor,"text-anchor":"middle"}));var x=a.set();x.push(i[v].path,i[v].rest,i[v].point),i[v].number&&x.push(i[v].number),l.push(x),m.push(i[v].point)}k.hover=function(a,d){d=d||function(){};for(var f=this,g=q;g--;)!function(g,h,i){var j={arm:g.point,number:g.number,cover:h,cx:b,cy:c,mx:g.x,my:g.y,value:e[i],max:p,label:f.labels&&f.labels[i]};j.cover.mouseover(function(){a.call(j)}).mouseout(function(){d.call(j)}),j.label&&j.label.mouseover(function(){a.call(j)}).mouseout(function(){d.call(j)})}(i[g],l[g],g);return this},k.each=function(a){if(!Raphael.is(a,"function"))return this;for(var d=this,f=q;f--;)!function(f,g,h){var i={arm:f.point,number:f.number,cover:g,cx:b,cy:c,x:f.x,y:f.y,value:e[h],max:p,label:d.labels&&d.labels[h]};a.call(i)}(i[f],l[f],f);return this},k.click=function(a){for(var d=this,f=q;f--;)!function(f,g,h){var i={arm:f.point,number:f.number,cover:g,cx:b,cy:c,mx:f.x,my:f.y,value:e[h],max:p,label:d.labels&&d.labels[h]};g.click(function(){a.call(i)}),i.label&&i.label.click(function(){a.call(i)})}(i[f],l[f],f);return this};var y=function(g,i,n,p){var r=b+d+d/5,s=c,t=s+10;g=g||[],p=p&&p.toLowerCase&&p.toLowerCase()||"east",n=a[n&&n.toLowerCase()]||"circle",k.labels=a.set();for(var u=0;q>u;u++){var v,w=m[u].attr("fill");e[u].others&&(g[j]=i||"Others"),g[u]=h.labelise(g[u],e[u],o),k.labels.push(a.set()),k.labels[u].push(a[n](r+5,t,8).attr({fill:w,stroke:"none"})),k.labels[u].push(v=a.text(r+20,t,g[u]||e[u]).attr(h.txtattr).attr({fill:f.legendcolor||"#000","text-anchor":"start"})),f.numbers&&k.labels[u].push(a.text(r+5,t+1,u+1).attr(h.txtattr).attr({fill:f.numberscolor,"text-anchor":"middle"})),l[u].label=k.labels[u],t+=1.2*v.getBBox().height}var x=k.labels.getBBox(),y={east:[0,-x.height/2],west:[-x.width-2*d-20,-x.height/2],north:[-d-x.width/2,-d-x.height-10],south:[-d-x.width/2,d+10]}[p];k.labels.translate.apply(k.labels,y),k.push(k.labels)};return f.legend&&y(f.legend,f.legendothers,f.legendmark,f.legendpos),k.push(m,l,g,n),k.series=m,k.covers=l,k}var b=function(){};b.prototype=Raphael.g,a.prototype=new b,Raphael.fn.radarchart=function(b,c,d,e,f){return new a(this,b,c,d,e,f)}}(),!function(){var a=/\{([^\}]+)\}/g,b=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,c=function(a,c,d){var e=d;return c.replace(b,function(a,b,c,d,f){b=b||d,e&&(b in e&&(e=e[b]),"function"==typeof e&&f&&(e=e()))}),e=(null==e||e==d?a:e)+""},d=function(b,d){return String(b).replace(a,function(a,b){return c(a,b,d)})};Raphael.fn.raphalytics_popup=function(a,b,c,e,f){e=String(e||"top-middle").split("-"),e[1]=e[1]||"middle";var g=5,h=c.getBBox(),i=Math.round(h.width),j=Math.round(h.height),k=Math.round(h.x)-g,l=Math.round(h.y)-g,m=Math.min(j/2,i/2,10),n={top:"M{x},{y}h{w4},{w4},{w4},{w4}a{r},{r},0,0,1,{r},{r}v{h4},{h4},{h4},{h4}a{r},{r},0,0,1,-{r},{r}l-{right},0-{gap},{gap}-{gap}-{gap}-{left},0a{r},{r},0,0,1-{r}-{r}v-{h4}-{h4}-{h4}-{h4}a{r},{r},0,0,1,{r}-{r}z",bottom:"M{x},{y}l{left},0,{gap}-{gap},{gap},{gap},{right},0a{r},{r},0,0,1,{r},{r}v{h4},{h4},{h4},{h4}a{r},{r},0,0,1,-{r},{r}h-{w4}-{w4}-{w4}-{w4}a{r},{r},0,0,1-{r}-{r}v-{h4}-{h4}-{h4}-{h4}a{r},{r},0,0,1,{r}-{r}z",right:"M{x},{y}h{w4},{w4},{w4},{w4}a{r},{r},0,0,1,{r},{r}v{h4},{h4},{h4},{h4}a{r},{r},0,0,1,-{r},{r}h-{w4}-{w4}-{w4}-{w4}a{r},{r},0,0,1-{r}-{r}l0-{bottom}-{gap}-{gap},{gap}-{gap},0-{top}a{r},{r},0,0,1,{r}-{r}z",left:"M{x},{y}h{w4},{w4},{w4},{w4}a{r},{r},0,0,1,{r},{r}l0,{top},{gap},{gap}-{gap},{gap},0,{bottom}a{r},{r},0,0,1,-{r},{r}h-{w4}-{w4}-{w4}-{w4}a{r},{r},0,0,1-{r}-{r}v-{h4}-{h4}-{h4}-{h4}a{r},{r},0,0,1,{r}-{r}z"},o=[{x:k+g,y:l,w:i,w4:i/4,h4:j/4,right:0,left:i-2*m,bottom:0,top:j-2*m,r:g,h:j,gap:m},{x:k+g,y:l,w:i,w4:i/4,h4:j/4,left:i/2-m,right:i/2-m,top:j/2-m,bottom:j/2-m,r:g,h:j,gap:m},{x:k+g,y:l,w:i,w4:i/4,h4:j/4,left:0,right:i-2*m,top:0,bottom:j-2*m,r:g,h:j,gap:m}]["middle"==e[1]?1:2*("top"==e[1]||"left"==e[1])],p=0,q=0,r=this.path(d(n[e[0]],o)).insertBefore(c);switch(e[0]){case"top":p=a-(k+g+o.left+m),q=b-(l+g+j+g+m);break;case"bottom":p=a-(k+g+o.left+m),q=b-(l-m);break;case"left":p=a-(k+g+i+g+m),q=b-(l+g+o.top+m);break;case"right":p=a-(k-m),q=b-(l+g+o.top+m)}return r.translate(p,q),f?(f=r.attr("path"),r.remove(),{path:f,dx:p,dy:q}):(c.translate(p,q),r)}}(),Raphael.fn.drawGridBorder=function(a,b,c,d,e,f){if("full"==e)var g=["M",Math.round(a),Math.round(b),"L",Math.round(a+c),Math.round(b),Math.round(a+c),Math.round(b+d),Math.round(a),Math.round(b+d),Math.round(a),Math.round(b)];if("xoy"==e)var g=["M",Math.round(a),Math.round(b+d),"L",Math.round(a+c),Math.round(b+d),"M",Math.round(a),Math.round(b+d),"L",Math.round(a),Math.round(b)];if("minimalist"==e)var g=["M",Math.round(a),Math.round(b+d),"L",Math.round(a+c),Math.round(b+d)];return this.path(g.join(",")).attr({stroke:f,"stroke-width":.5})},Raphael.fn.drawGrid=function(a,b,c,d,e,f,g,h){var i=[],j=d/f,k=c/e;if("y_grid"==g||"full_grid"==g||"minimalist"==g)for(var l="minimalist"==g?0:1,m=l;f>m;m++)i=i.concat(["M",Math.round(a),Math.round(b+m*j),"H",Math.round(a+c)]);if("x_grid"==g||"full_grid"==g)for(m=1;e>m;m++)i=i.concat(["M",Math.round(a+m*k),Math.round(b),"V",Math.round(b+d)]);return this.path(i.join(",")).attr({stroke:h,"stroke-width":.5})},Raphael.fn.raphalytics=function(a,b,c,d){return new raphalytics(this,a,b,c,d)},"Microsoft Internet Explorer"==navigator.appName)var oc_IE=1;else var oc_IE=0;var oc_max_text_width=0,oc_max_text_height=0,oc_max_title_lines=0,oc_max_subtitle_lines=0,oc_paper=null;Raphael.fn.donutChart=function(a,b,c,d,e,f,g){function h(a,b,c,e,f,g){var h=a+c*Math.cos(-e*j),k=a+c*Math.cos(-f*j),l=b+c*Math.sin(-e*j),m=b+c*Math.sin(-f*j),n=a+d*Math.cos(-e*j),o=a+d*Math.cos(-f*j),p=b+d*Math.sin(-e*j),q=b+d*Math.sin(-f*j);return i.path(["M",n,p,"L",h,l,"A",c,c,0,+(f-e>180),0,k,m,"L",o,q,"A",d,d,0,+(f-e>180),1,n,p,"z"]).attr(g)}for(var i=this,j=Math.PI/180,k=this.set(),l=0,m=0,n=0,o=function(d){var o=e[d],p=360*o/m,q=l+p/2,r=Raphael.hsb(n,.75,1),s=500,t=30,u=Raphael.hsb(n,1,1),v=h(a,b,c,l,l+p,{fill:"90-"+u+"-"+r,stroke:g,"stroke-width":3}),w=i.text(a+(c+t+55)*Math.cos(-q*j),b+(c+t+25)*Math.sin(-q*j),f[d]).attr({fill:u,stroke:"none",opacity:0,"font-size":20});v.mouseover(function(){v.stop().animate({transform:"s1.1 1.1 "+a+" "+b},s,"elastic"),w.stop().animate({opacity:1},s,"elastic")}).mouseout(function(){v.stop().animate({transform:""},s,"elastic"),w.stop().animate({opacity:0},s)}),l+=p,k.push(v),k.push(w),n+=.1},p=0,q=e.length;q>p;p++)m+=e[p];for(p=0;q>p;p++)o(p);return k},!function(){function a(a,b,c,d,e,f,h){var i=e+(f-e)/2,j=b+d*Math.cos(-i*g),k=c+d*Math.sin(-i*g),l=a.text(j,k,h.text).attr({fill:h.fontColor,"font-size":h.fontSize});return i>=90&&270>i&&(i+=180),l.transform("r"+-i+","+j+","+k),l}function b(b,c,d,e,f,h,i){var j=c+e*Math.cos(-f*g),k=c+e*Math.cos(-h*g),l=d+e*Math.sin(-f*g),m=d+e*Math.sin(-h*g),n=b.path(["M",c,d,"L",j,l,"A",e,e,0,+(h-f>180),0,k,m,"z"]).attr(i);return a(b,c,d,e/2,f,h,i),n}function c(b,c,d,e,f,h,i,j){var k=c+e*Math.cos(-h*g),l=d+e*Math.sin(-h*g),m=c+f*Math.cos(-h*g),n=d+f*Math.sin(-h*g),o=c+f*Math.cos(-i*g),p=d+f*Math.sin(-i*g),q=c+e*Math.cos(-i*g),r=d+e*Math.sin(-i*g),s=b.path(["M",k,l,"L",m,n,"A",f,f,0,+(i-h>180),0,o,p,"L",q,r,"A",e,e,0,+(i-h>180),0,k,l,"z"]).attr(j),t=a(b,c,d,(e+f)/2,h,i,j),u=b.set();u.push(s,t);var v=function(){"function"==typeof j.onClick&&(u.toFront(),j.onClick(s,j.text))},w=function(){s.attr({"fill-opacity":.2})},x=function(){s.attr({"fill-opacity":j["fill-opacity"]||1})};return u.mouseover(w).mouseout(x).click(v),u}function d(a,b,c){if(c.colors){if(c.colors.byCategory&&c.colors.byCategory[a])return c.colors.byCategory[a];if(c.colors.bySeries&&c.colors.bySeries[b])return c.colors.bySeries[b]}return f+=1,{color:Raphael.hsb(f,1,1)}}function e(a,e,f,g,h,i){a.set();var j,k,l,m=0,n={};for(k in h.data)if(h.data.hasOwnProperty(k)&&(m+=1,"object"==typeof h.data[k])){n[k]=0;for(l in h.data[k])h.data[k].hasOwnProperty(l)&&(n[k]+=1,(!j||j<h.data[k][l])&&(j=h.data[k][l]))}var o=i&&i.categorySize||.3,p=0,q=g*o,r=360*(1/m);for(k in h.data)if("object"==typeof h.data[k]){b(a,e,f,q,p,p+r,{fill:h.colors.category,"fill-opacity":h.colors.opacity,text:k,fontSize:i.categoryFontSize,fontColor:h.colors.fontColor,stroke:i.stroke,"stroke-width":3});for(l in h.data[k]){var s=q+g*(1-o)*(h.data[k][l]/j),t=r/n[k],u=d(k,l,h);c(a,e,f,q,s,p,p+t,{fill:u.color,stroke:i.stroke,hoverColor:u.hover,fontSize:i.seriesFontSize,fontColor:u.fontColor,text:l,"fill-opacity":u.opacity,"stroke-width":3,onClick:i.onClick}),p+=t}}}var f=0,g=Math.PI/180;Raphael.fn.coxCombChart=function(a,b,c,d,f){return new e(this,a,b,c,d,f)}}();